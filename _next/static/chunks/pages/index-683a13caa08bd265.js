(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8622)}])},8622:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Mixes}});var s=a(5893),n=a(7294);let i=[{title:"Okay",cover:"https://media.parttimechiller.com/Okay_PTC.png",audio:"https://media.parttimechiller.com/Okay_PTC.mp3",duration:"3:43",description:"I heard ya, okay?",type:"track"},{title:"Dive into dark",cover:"https://media.parttimechiller.com/DiveIntoDark_PTC.png",audio:"https://media.parttimechiller.com/DiveIntoDark_PTC.mp3",duration:"2:52",description:"Sometimes you need to go deep into the dark",type:"track"},{title:"Slow down",cover:"https://media.parttimechiller.com/Slowdown_PTC.png",audio:"https://media.parttimechiller.com/Slowdown_PTC.mp3",duration:"2:36",description:"You just got too...",type:"track"},{title:"Slow Burn",cover:"https://media.parttimechiller.com/SlowBurn_PTC.png",audio:"https://media.parttimechiller.com/SlowBurn_PTC.mp3",duration:"3:47",description:"Low end head nodding vibes",type:"track"},{title:"Synthcopated",cover:"https://media.parttimechiller.com/Synthcopated_PTC.png",audio:"https://media.parttimechiller.com/Synthcopated_PTC.mp3",duration:"3:17",description:"A little bounce for an ounce.",type:"track"},{title:"Midnight interlude",cover:"https://media.parttimechiller.com/Midnight_Interlude_PTC.png",audio:"https://media.parttimechiller.com/Midnight_Interlude_PTC.mp3",duration:"5:30",description:"Driving down the freeway floating in darkness",type:"track"},{title:"Some Vibes",cover:"https://media.parttimechiller.com/SomeVibes_PTC.png",audio:"https://media.parttimechiller.com/SomeVibes_PTC.mp3",duration:"2:15",description:"Some Roland vibes for your midnight soul",type:"track"},{title:"Live at Oldfields mix",cover:"https://media.parttimechiller.com/OldfieldsMix_PTC.png",audio:"https://media.parttimechiller.com/OldfieldsMix_PTC.mp3",duration:"3:00:00",description:"Midtempo vibes for Friday evening soir\xe9e",type:"mix"},{title:"Live at Tamarak Ventures",cover:"https://media.parttimechiller.com/TamarakMix_PTC.png",audio:"https://media.parttimechiller.com/TamarakMix_PTC.mp3",duration:"3:00:00",description:"Perfect early summertime evening vibes recorded at Tamarak Ventures 2025",type:"mix"},{title:"Mixing at Margot",cover:"https://media.parttimechiller.com/MixAtMargot_PTC.png",audio:"https://media.parttimechiller.com/MixAtMargot_PTC.mp3",duration:"2:38:29",description:"Sophisticated sexy vibes recorded live at Margot in Los Angeles",type:"mix"},{title:"Rise Up",cover:"https://media.parttimechiller.com/RiseUp_PTC.png",audio:"https://media.parttimechiller.com/RiseUp_PTC.mp3",duration:"3:28",description:"Time to get up and get down",type:"track"}];var r=a(4250),l=a(9477);let BaseVisualizer=class BaseVisualizer{start(){if(this.isInitialized){console.warn("Visualizer already initialized");return}this.init(),this.isInitialized=!0,this.startInternalAnimationLoop()}startInternalAnimationLoop(){let animate=()=>{this.animationFrameId=requestAnimationFrame(animate),this.currentAudioAnalysis&&this.update(this.currentAudioAnalysis),this.render()};animate()}setAudioData(e){this.currentAudioAnalysis=e}updateConfig(e,t){this.config[e]=t}updateColors(e){this.colors=e}startAnimationLoop(e){let animate=()=>{this.animationFrameId=requestAnimationFrame(animate),e()};animate()}stopAnimationLoop(){null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}parseRGB(e){let t=e.match(/\d+/g);return t&&t.length>=3?{r:parseInt(t[0])/255,g:parseInt(t[1])/255,b:parseInt(t[2])/255}:{r:1,g:.5,b:0}}constructor(e,t,a){this.animationFrameId=null,this.isInitialized=!1,this.currentAudioAnalysis=null,this.container=e,this.config=t,this.colors=a}};let SonicGalaxyVisualizer=class SonicGalaxyVisualizer extends BaseVisualizer{getName(){return"Sonic Galaxy"}getControls(){return[{name:"Particle Count",key:"particleCount",min:1e4,max:1e5,step:1e4,default:1e4,value:this.config.particleCount||1e4},{name:"Attractor Count",key:"attractorCount",min:2,max:6,step:1,default:3,value:this.config.attractorCount||3},{name:"Bass Gravity",key:"bassGravity",min:.5,max:5,step:.1,default:2,value:this.config.bassGravity||2},{name:"Mid Spin",key:"midSpin",min:.5,max:5,step:.1,default:2,value:this.config.midSpin||2},{name:"High Energy",key:"highEnergy",min:.5,max:3,step:.1,default:1.5,value:this.config.highEnergy||1.5},{name:"Max Speed",key:"maxSpeed",min:2,max:15,step:.5,default:8,value:this.config.maxSpeed||8},{name:"Velocity Damping",key:"velocityDamping",min:0,max:.2,step:.01,default:.04,value:this.config.velocityDamping||.04},{name:"Particle Size",key:"particleSize",min:.5,max:1.5,step:.1,default:.5,value:this.config.particleSize||.5},{name:"Camera Speed",key:"cameraSpeed",min:0,max:.02,step:.001,default:.004,value:this.config.cameraSpeed||.004},{name:"Bound Size",key:"boundSize",min:5,max:20,step:1,default:8,value:this.config.boundSize||8},{name:"Beat Sensitivity",key:"beatSensitivity",min:.5,max:2,step:.1,default:1.2,value:this.config.beatSensitivity||1.2}]}init(){this.scene=new r.xsS;let e=this.container.clientWidth||800,t=this.container.clientHeight||600;this.camera=new r.cPb(60,e/t,.1,1e3),this.renderer=new l.CP7({antialias:!0,alpha:!0,powerPreference:"high-performance"}),this.renderer.setSize(e,t),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setClearColor(0,0),this.container.appendChild(this.renderer.domElement),this.initializeAttractors(),this.initializeParticles(),this.updateCameraPosition(),window.addEventListener("resize",()=>{if(!this.camera||!this.renderer||!this.container)return;let e=this.container.clientWidth||800,t=this.container.clientHeight||600;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)})}initializeAttractors(){let e=this.config.attractorCount||4;this.attractors=[];for(let t=0;t<e;t++){let a=Math.acos(-1+2*t/e),s=Math.sqrt(e*Math.PI)*a,n=new r.Pa4(2.5*Math.cos(s)*Math.sin(a),2.5*Math.sin(s)*Math.sin(a),2.5*Math.cos(a)),i=new r.Pa4(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1).normalize();this.attractors.push({position:n,mass:1e7,baseMass:1e7,rotationAxis:i,spinStrength:2})}}initializeParticles(){let e=this.config.particleCount||this.particleCount;this.particles=[];let t=[],a=[],s=[];for(let n=0;n<e;n++){let e=3*Math.random()+1,n=Math.random()*Math.PI*2,i=Math.acos(2*Math.random()-1),l=new r.Pa4(e*Math.sin(i)*Math.cos(n),e*Math.sin(i)*Math.sin(n),e*Math.cos(i)),o=new r.Pa4((Math.random()-.5)*.1,(Math.random()-.5)*.1,(Math.random()-.5)*.1),c=(.75*Math.random()+.25)*1e4;this.particles.push({position:l,velocity:o,mass:c});let d=360*Math.random(),h=60+40*Math.random(),u=50+30*Math.random(),m=new r.Ilk().setHSL(d/360,h/100,u/100);t.push(l.x,l.y,l.z),a.push(m.r,m.g,m.b),s.push(c/1e4*(this.config.particleSize||.5))}let n=[];for(let t=0;t<e;t++)n.push(t%3);let i=new r.u9r;i.setAttribute("position",new r.a$l(t,3)),i.setAttribute("color",new r.a$l(a,3)),i.setAttribute("size",new r.a$l(s,1)),i.setAttribute("frequencyBand",new r.a$l(n,1));let l=new r.jyz({uniforms:{colorA:{value:new r.Ilk(this.colors.dominant)},colorB:{value:new r.Ilk(this.colors.accent)},bassIntensity:{value:0},midIntensity:{value:0},highIntensity:{value:0}},vertexShader:"\n        attribute float size;\n        attribute vec3 color;\n        attribute float frequencyBand;\n        varying vec3 vColor;\n        varying float vFrequencyBand;\n        \n        void main() {\n          vColor = color;\n          vFrequencyBand = frequencyBand;\n          vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n          gl_PointSize = size * (100.0 / -mvPosition.z);\n          gl_Position = projectionMatrix * mvPosition;\n        }\n      ",fragmentShader:"\n        uniform float bassIntensity;\n        uniform float midIntensity;\n        uniform float highIntensity;\n        varying vec3 vColor;\n        varying float vFrequencyBand;\n        \n        void main() {\n          float dist = length(gl_PointCoord - vec2(0.5));\n          if (dist > 0.5) discard;\n          \n          // Get intensity based on frequency band\n          float intensity = 0.3; // Base intensity\n          if (vFrequencyBand < 0.5) {\n            intensity += bassIntensity * 1.5;\n          } else if (vFrequencyBand < 1.5) {\n            intensity += midIntensity * 1.5;\n          } else {\n            intensity += highIntensity * 1.5;\n          }\n          \n          intensity = clamp(intensity, 0.3, 2.0);\n          \n          float alpha = smoothstep(0.5, 0.2, dist) * intensity;\n          gl_FragColor = vec4(vColor * intensity, alpha);\n        }\n      ",transparent:!0,blending:r.WMw,depthWrite:!1});this.particleMesh=new r.woe(i,l),this.scene.add(this.particleMesh)}updatePhysics(e){let t=e.bassAvg/255,a=e.midAvg/255,s=e.highAvg/255,n=this.config.bassGravity||2,i=this.config.midSpin||2;this.attractors.forEach((e,r)=>{let l=r%3/3;e.mass=e.baseMass*(1+(l<.33?t:l<.66?a:s)*n*5),e.spinStrength=2+a*i*3});let l=(t+a+s)/3;if(l>this.beatThreshold*(this.config.beatSensitivity||1.2)){let e=Date.now();e-this.lastBeatTime>this.beatCooldown&&(this.onBeat(l),this.lastBeatTime=e)}this.beatThreshold=.95*this.beatThreshold+.05*l;let o=this.config.maxSpeed||8,c=1-(this.config.velocityDamping||.05),d=(this.config.boundSize||10)/2;this.particles.forEach(e=>{let t=new r.Pa4(0,0,0);this.attractors.forEach(a=>{let s=new r.Pa4().subVectors(a.position,e.position),n=s.length();if(n<.1)return;let i=s.normalize(),l=a.mass*e.mass*this.GRAVITY_CONSTANT/(n*n),o=i.multiplyScalar(l);t.add(o);let c=new r.Pa4().crossVectors(a.rotationAxis,s).multiplyScalar(l*a.spinStrength);t.add(c)}),e.velocity.add(t.multiplyScalar(this.DELTA_TIME));let a=e.velocity.length();a>o&&e.velocity.normalize().multiplyScalar(o),e.velocity.multiplyScalar(c),e.position.add(new r.Pa4().copy(e.velocity).multiplyScalar(this.DELTA_TIME)),e.position.x=(e.position.x+d)%(2*d)-d,e.position.y=(e.position.y+d)%(2*d)-d,e.position.z=(e.position.z+d)%(2*d)-d})}onBeat(e){this.attractors.forEach(t=>{t.mass*=1+5*e}),setTimeout(()=>{this.attractors.forEach(e=>{e.mass=e.baseMass})},150)}updateCameraPosition(){if(!this.camera)return;let e=this.config.cameraDistance||this.cameraDistance;this.camera.position.x=Math.cos(this.cameraAngle)*e,this.camera.position.z=Math.sin(this.cameraAngle)*e,this.camera.position.y=this.cameraHeight,this.camera.lookAt(0,0,0)}update(e){if(!this.isInitialized||!e.isPlaying)return;this.updatePhysics(e);let t=this.config.cameraSpeed||.005;if(this.cameraAngle+=t,this.updateCameraPosition(),this.particleMesh){let t=this.particleMesh.geometry.attributes.position.array;this.particleMesh.geometry.attributes.color.array;let a=this.particleMesh.geometry.attributes.size.array;new r.Ilk(this.colors.dominant),new r.Ilk(this.colors.accent),this.config.maxSpeed;let s=this.config.particleSize||.5,n=e.bassAvg/255,i=e.midAvg/255,l=e.highAvg/255;this.particleMesh.material instanceof r.jyz&&(this.particleMesh.material.uniforms.bassIntensity.value=n,this.particleMesh.material.uniforms.midIntensity.value=i,this.particleMesh.material.uniforms.highIntensity.value=l),this.particles.forEach((e,n)=>{t[3*n]=e.position.x,t[3*n+1]=e.position.y,t[3*n+2]=e.position.z,a[n]=e.mass/1e4*s}),this.particleMesh.geometry.attributes.position.needsUpdate=!0,this.particleMesh.geometry.attributes.size.needsUpdate=!0}}render(){this.isInitialized&&this.renderer&&this.scene&&this.camera&&this.renderer.render(this.scene,this.camera)}destroy(){this.stopAnimationLoop(),this.isInitialized=!1,this.particleMesh&&(this.particleMesh.geometry.dispose(),this.particleMesh.material instanceof r.F5T&&this.particleMesh.material.dispose()),this.renderer&&(this.renderer.dispose(),this.renderer.domElement.parentNode&&this.renderer.domElement.parentNode.removeChild(this.renderer.domElement)),this.scene=null,this.camera=null,this.renderer=null,this.particleMesh=null,this.particles=[],this.attractors=[]}updateConfig(e,t){if(super.updateConfig(e,t),"particleCount"===e&&this.scene&&(this.particleMesh&&(this.scene.remove(this.particleMesh),this.particleMesh.geometry.dispose(),this.particleMesh.material instanceof r.F5T&&this.particleMesh.material.dispose()),this.particleCount=t,this.initializeParticles()),"attractorCount"===e&&this.scene&&this.initializeAttractors(),"cameraDistance"===e&&(this.cameraDistance=t,this.updateCameraPosition()),"particleSize"===e&&this.particleMesh){let e=this.particleMesh.geometry.attributes.size.array;this.particles.forEach((a,s)=>{e[s]=a.mass/1e4*t}),this.particleMesh.geometry.attributes.size.needsUpdate=!0}}updateColors(e){super.updateColors(e),this.particleMesh&&this.particleMesh.material instanceof r.jyz&&(this.particleMesh.material.uniforms.colorA.value=new r.Ilk(e.dominant),this.particleMesh.material.uniforms.colorB.value=new r.Ilk(e.accent))}constructor(e,t,a){super(e,t,a),this.scene=null,this.camera=null,this.renderer=null,this.attractors=[],this.particles=[],this.particleMesh=null,this.particleCount=5e4,this.GRAVITY_CONSTANT=667e-12,this.DELTA_TIME=1/60,this.cameraAngle=0,this.cameraHeight=3,this.cameraDistance=8,this.beatThreshold=0,this.lastBeatTime=0,this.beatCooldown=300}};let RaindropsVisualizer=class RaindropsVisualizer extends BaseVisualizer{getName(){return"Raindrops"}getControls(){var e,t,a,s,n,i,r,l;return[{name:"Max Ripples",key:"maxRipples",min:32,max:256,step:16,default:64,value:null!==(e=this.config.maxRipples)&&void 0!==e?e:64},{name:"Bass Threshold",key:"bassThreshold",min:.1,max:.8,step:.05,default:.1,value:null!==(t=this.config.bassThreshold)&&void 0!==t?t:.1},{name:"Drizzle Rate",key:"drizzleRate",min:.05,max:.5,step:.05,default:.05,value:null!==(a=this.config.drizzleRate)&&void 0!==a?a:.05},{name:"Plane Size",key:"planeSize",min:10,max:40,step:2,default:40,value:null!==(s=this.config.planeSize)&&void 0!==s?s:40},{name:"Intensity",key:"intensity",min:.5,max:3,step:.1,default:.8,value:null!==(n=this.config.intensity)&&void 0!==n?n:.8},{name:"Ring Thickness",key:"ringThickness",min:.1,max:1,step:.05,default:.1,value:null!==(i=this.config.ringThickness)&&void 0!==i?i:.1},{name:"Layout Mode",key:"layoutMode",min:0,max:3,step:1,default:0,value:null!==(r=this.config.layoutMode)&&void 0!==r?r:0},{name:"Show Grid Overlay",key:"showGridOverlay",min:0,max:1,step:1,default:1,value:null!==(l=this.config.showGridOverlay)&&void 0!==l?l:1}]}initScene(){this.scene=new r.xsS,this.camera=new r.cPb(60,this.container.clientWidth/this.container.clientHeight,.1,1e3),this.camera.position.set(0,20,0),this.camera.lookAt(0,0,0),this.renderer=new l.CP7({antialias:!0,alpha:!0}),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.container.appendChild(this.renderer.domElement),this.observeResize(),this.updateGridOverlay()}observeResize(){this.resizeObserver||(this.resizeObserver=new ResizeObserver(()=>{this.handleResize()}),this.resizeObserver.observe(this.container))}handleResize(){if(!this.renderer||!this.camera)return;let e=Math.max(1,this.container.clientWidth),t=Math.max(1,this.container.clientHeight);this.renderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.updateGridOverlay()}getLayoutBounds(){if(!this.camera){let e=this.config.planeSize||20,t=.9*e/2;return{halfWidth:t,halfHeight:t}}let e=Math.abs(this.camera.position.y),t=r.M8C.degToRad(this.camera.fov),a=Math.tan(t/2)*e,s=a*this.camera.aspect,n=this.config.planeSize||20,i=n/2;return{halfWidth:Math.min(s,i),halfHeight:Math.min(a,i)}}updateGridOverlay(){var e;if(!this.scene)return;this.gridOverlay&&(this.scene.remove(this.gridOverlay),this.gridOverlay.geometry.dispose(),this.gridOverlay.material.dispose(),this.gridOverlay=null),this.rowAxisOverlay&&(this.scene.remove(this.rowAxisOverlay),this.rowAxisOverlay.geometry.dispose(),this.rowAxisOverlay.material.dispose(),this.rowAxisOverlay=null);let t=this.config.layoutMode||0,a=(null!==(e=this.config.showGridOverlay)&&void 0!==e?e:1)>0;if(a){if(2===t){let{halfWidth:e,halfHeight:t}=this.getLayoutBounds(),a=.9*e,s=.9*t,n=[];for(let e=0;e<=8;e++){let t=e/8,i=(t-.5)*a*2,r=(t-.5)*s*2;n.push(i,.01,-s,i,.01,s),n.push(-a,.01,r,a,.01,r)}let i=new r.u9r;i.setAttribute("position",new r.a$l(n,3));let l=new r.nls({color:new r.Ilk(1,1,1),transparent:!0,opacity:.08});this.gridOverlay=new r.ejS(i,l),this.scene.add(this.gridOverlay);return}if(1===t){let{halfWidth:e}=this.getLayoutBounds(),t=.9*e,a=[-t,.01,0,t,.01,0],s=new r.u9r;s.setAttribute("position",new r.a$l(a,3));let n=new r.nls({color:new r.Ilk(1,1,1),transparent:!0,opacity:.12});this.rowAxisOverlay=new r.ejS(s,n),this.scene.add(this.rowAxisOverlay)}}}getGridCellIndex(e){if(64!==this.gridCellOrder.length){this.gridCellOrder=Array.from({length:64},(e,t)=>t);for(let e=this.gridCellOrder.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[this.gridCellOrder[e],this.gridCellOrder[t]]=[this.gridCellOrder[t],this.gridCellOrder[e]]}this.gridCursor=0}let t=this.config.layoutMode||0,a=this.config.maxRipples||128;if(!(2===t&&a>=32))return e%64;let s=this.gridCellOrder[this.gridCursor%64];return this.gridCursor++,s}addRipple(e,t){let a;if(this.ripples.length>=(this.config.maxRipples||128))return;let s=this.config.layoutMode||0,{halfWidth:n,halfHeight:i}=this.getLayoutBounds(),l=.9*n,o=.9*i;switch(s){case 1:{let t=e/63,s=-l+t*l*2;a=new r.FM8(s,0)}break;case 2:{let t=this.getGridCellIndex(e),s=(t%8/7-.5)*l*2,n=(Math.floor(t/8)/7-.5)*o*2;a=new r.FM8(s,n)}break;case 3:{let t=e/63,s=t*Math.PI*8,n=t*Math.min(l,o)*.85,i=Math.cos(s)*n,c=Math.sin(s)*n;a=new r.FM8(i,c)}break;default:a=new r.FM8((Math.random()-.5)*l*2,(Math.random()-.5)*o*2)}let c=e/63,d=new r.Ilk().setHSL(.7*c,.8+.2*c,.5+.3*t),h={position:a,startTime:performance.now(),amplitude:t*(this.config.intensity||1.5),maxRadius:8-6*c,speed:1.5+2*c,frequencyBand:e,color:d};this.ripples.push(h),this.createRippleMesh(h)}createRippleMesh(e){if(!this.scene)return;let t=new r.o8S(.01,.02,64),a=new r.vBJ({color:e.color,transparent:!0,opacity:e.amplitude,side:r.ehD}),s=new r.Kj0(t,a);s.position.set(e.position.x,0,e.position.y),s.rotation.x=-Math.PI/2,s.userData.ripple=e,this.scene.add(s),this.rippleMeshes.push(s)}init(){this.initScene()}setAudioData(e){this.currentAudioAnalysis=e;let t=(e.bassAvg+e.midAvg+e.highAvg)/3,a=t<5||!e.isPlaying;if(a?this.isPaused||(this.isPaused=!0,this.pauseStartTime=performance.now()):this.isPaused&&(this.isPaused=!1,this.pauseStartTime=0),this.isPaused)return;let s=performance.now(),n=255*(this.config.bassThreshold||.3),i=this.config.layoutMode||0;for(let t=0;t<e.audioData.length;t++){let a=e.audioData[t],r=t/63,l=n+r*n*.5;1===i&&(l*=1+.35*(.5-r));let o=100+3*t;if(1===i&&(o=260-200*r),a>l&&s-this.lastDropTimes[t]>o){let e=Math.min(a/255,1);this.addRipple(t,e),this.lastDropTimes[t]=s}}}update(e){if(!this.scene)return;let t=performance.now(),a=this.config.ringThickness||.3;for(let e=this.rippleMeshes.length-1;e>=0;e--){let s=this.rippleMeshes[e],n=s.userData.ripple;if(!n)continue;let i=(t-n.startTime)/1e3,l=i*n.speed,o=l/n.maxRadius;if(o>=1){this.scene.remove(s),s.geometry.dispose(),s.material.dispose(),this.rippleMeshes.splice(e,1);let t=this.ripples.indexOf(n);t>-1&&this.ripples.splice(t,1);continue}let c=Math.max(.01,l-a/2),d=l+a/2,h=n.amplitude;if(o>.6&&(h*=1-(o-.6)/.4),this.isPaused&&this.pauseStartTime>0){let e=(t-this.pauseStartTime)/1e3,a=Math.max(0,1-e/2);h*=a}s.geometry.dispose(),s.geometry=new r.o8S(c,d,64),s.material.opacity=h}}render(){this.renderer&&this.scene&&this.camera&&this.renderer.render(this.scene,this.camera)}destroy(){for(let e of(this.stopAnimationLoop(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.gridOverlay&&this.scene&&(this.scene.remove(this.gridOverlay),this.gridOverlay.geometry.dispose(),this.gridOverlay.material.dispose(),this.gridOverlay=null),this.rowAxisOverlay&&this.scene&&(this.scene.remove(this.rowAxisOverlay),this.rowAxisOverlay.geometry.dispose(),this.rowAxisOverlay.material.dispose(),this.rowAxisOverlay=null),this.rippleMeshes))this.scene&&this.scene.remove(e),e.geometry.dispose(),e.material.dispose();this.rippleMeshes=[],this.ripples=[],this.renderer&&(this.renderer.dispose(),this.container.contains(this.renderer.domElement)&&this.container.removeChild(this.renderer.domElement)),this.scene=null,this.camera=null,this.renderer=null}updateConfig(e,t){this.config[e]=t,"layoutMode"===e&&(this.layoutMode=t,this.updateGridOverlay(),2!==t&&(this.gridCellOrder=[],this.gridCursor=0)),"showGridOverlay"===e&&this.updateGridOverlay()}constructor(e,t,a){super(e,t,a),this.scene=null,this.camera=null,this.renderer=null,this.ripples=[],this.rippleMeshes=[],this.lastDropTimes=Array(64).fill(0),this.isPaused=!1,this.pauseStartTime=0,this.layoutMode=0,this.resizeObserver=null,this.gridOverlay=null,this.rowAxisOverlay=null,this.gridCellOrder=[],this.gridCursor=0}};function Mixes(){let[e,t]=(0,n.useState)(null),[a,o]=(0,n.useState)("all"),[c,d]=(0,n.useState)(!1),[h,u]=(0,n.useState)(!0),[m,p]=(0,n.useState)("terrain"),[x,g]=(0,n.useState)("Stint Ultra Expanded"),[f,w]=(0,n.useState)(!1),v=(0,n.useRef)(null),y=(0,n.useRef)(null),b=(0,n.useRef)(null),j=(0,n.useRef)(null),M=(0,n.useRef)(null),C=(0,n.useRef)(null),N=(0,n.useRef)(null),S=(0,n.useRef)(null),k=(0,n.useRef)(null),z=(0,n.useRef)(Array(64).fill(0)),A=(0,n.useRef)("rgb(115, 115, 115)"),P=(0,n.useRef)("rgb(163, 163, 163)"),[F,R]=(0,n.useState)(!1),[E,T]=(0,n.useState)(0),[I,L]=(0,n.useState)(0),[D,B]=(0,n.useState)(0),[O,V]=(0,n.useState)("rgb(115, 115, 115)"),[_,G]=(0,n.useState)("rgb(163, 163, 163)"),[q,H]=(0,n.useState)(Array(64).fill(0)),[U,W]=(0,n.useState)(!1),[Y,X]=(0,n.useState)(3.6),[K,Z]=(0,n.useState)(.55),[$,J]=(0,n.useState)(2),[Q,ee]=(0,n.useState)(.003),[et,ea]=(0,n.useState)(!0),[es,en]=(0,n.useState)(2),[ei,er]=(0,n.useState)(.5),[el,eo]=(0,n.useState)(1),[ec,ed]=(0,n.useState)(4),[eh,eu]=(0,n.useState)(!1),[em,ep]=(0,n.useState)(.4),[ex,eg]=(0,n.useState)(.5),[ef,ew]=(0,n.useState)(.1),[ev,ey]=(0,n.useState)(.002),[eb,ej]=(0,n.useState)(!1),[eM,eC]=(0,n.useState)(3.9),[eN,eS]=(0,n.useState)(17.5),[ek,ez]=(0,n.useState)(.95),[eA,eP]=(0,n.useState)(9.5),[eF,eR]=(0,n.useState)(5e-4),[eE,eT]=(0,n.useState)("wireframe"),[eI,eL]=(0,n.useState)(56),[eD,eB]=(0,n.useState)(.05),[eO,eV]=(0,n.useState)(.003),[e_,eG]=(0,n.useState)(.7),[eq,eH]=(0,n.useState)(3),[eU,eW]=(0,n.useState)(4),[eY,eX]=(0,n.useState)(2),[eK,eZ]=(0,n.useState)(5e4),[e$,eJ]=(0,n.useState)(4),[eQ,e0]=(0,n.useState)(2),[e1,e2]=(0,n.useState)(2),[e5,e4]=(0,n.useState)(8),[e3,e6]=(0,n.useState)(.05),[e8,e7]=(0,n.useState)(.5),[e9,te]=(0,n.useState)(.005),[tt,ta]=(0,n.useState)(10),[ts,tn]=(0,n.useState)(1.2),[ti,tr]=(0,n.useState)(!1),[tl,to]=(0,n.useState)(64),[tc,td]=(0,n.useState)(.1),[th,tu]=(0,n.useState)(.05),[tm,tp]=(0,n.useState)(40),[tx,tg]=(0,n.useState)(.8),[tf,tw]=(0,n.useState)(.1),[tv,ty]=(0,n.useState)(0),tb=(0,n.useRef)(3.6),tj=(0,n.useRef)(.55),tM=(0,n.useRef)(2),tC=(0,n.useRef)(.003),tN=(0,n.useRef)(1),tS=(0,n.useRef)(1),tk=(0,n.useRef)(4),tz=(0,n.useRef)(!1),tA=(0,n.useRef)(.4),tP=(0,n.useRef)(.5),tF=(0,n.useRef)(.1),tR=(0,n.useRef)(.002),tE=(0,n.useRef)(!1),tT=(0,n.useRef)(2),tI=(0,n.useRef)(1),tL=(0,n.useRef)(.95),tD=(0,n.useRef)(8),tB=(0,n.useRef)(.002),tO=(0,n.useRef)("wireframe"),tV=(0,n.useRef)(32),t_=(0,n.useRef)(.3),tG=(0,n.useRef)(.002),tq=(0,n.useRef)(.5),tH=(0,n.useRef)(3),tU=(0,n.useRef)(4),tW=(0,n.useRef)(2);(0,n.useEffect)(()=>{tb.current=Y,tj.current=K,tM.current=$,tC.current=Q,tN.current=ei,tS.current=el,tk.current=ec,tz.current=eh,tA.current=em,tP.current=ex,tF.current=ef,tR.current=ev,tE.current=eb,tT.current=eM,tI.current=eN,tL.current=ek,tD.current=eA,tB.current=eF,tO.current=eE,tV.current=eI,t_.current=eD,tG.current=eO,tq.current=e_,tH.current=eq,tU.current=eU,tW.current=eY},[Y,K,$,Q,ei,el,ec,eh,em,ex,ef,ev,eb,eM,eN,ek,eA,eF,eE,eI,eD,eO,e_,eq,eU,eY]),(0,n.useEffect)(()=>{z.current=q},[q]),(0,n.useEffect)(()=>{A.current=O,P.current=_},[O,_]);let tY=(0,n.useRef)(null),tX=(0,n.useRef)(null),tK=(0,n.useRef)(null),tZ=i.filter(e=>"all"===a||e.type===a),t$=e?tZ.findIndex(t=>t.title===e.title):-1,formatTime=e=>{let t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=Math.floor(e%60);return t>0?"".concat(t,":").concat(a.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")):"".concat(a,":").concat(s.toString().padStart(2,"0"))};(0,n.useEffect)(()=>{let t=v.current;if(!t)return;let updateProgress=()=>{T(t.currentTime/t.duration*100),L(t.currentTime)},updateDuration=()=>{B(t.duration)},handleSongEnd=()=>{window.clarity&&e&&window.clarity("event","song_completed",e.title),playNext()},handleError=a=>{console.error("Audio error:",t.error),console.error("Error event:",a),alert("Error loading audio file: ".concat(null==e?void 0:e.title,"\nPlease check if the file exists and is in a supported format."))};return t.addEventListener("timeupdate",updateProgress),t.addEventListener("loadedmetadata",updateDuration),t.addEventListener("durationchange",updateDuration),t.addEventListener("ended",handleSongEnd),t.addEventListener("error",handleError),()=>{t.removeEventListener("timeupdate",updateProgress),t.removeEventListener("loadedmetadata",updateDuration),t.removeEventListener("durationchange",updateDuration),t.removeEventListener("ended",handleSongEnd),t.removeEventListener("error",handleError)}},[e]),(0,n.useEffect)(()=>{let t=v.current;if(t&&e){if(!tY.current)try{let e=new(window.AudioContext||window.webkitAudioContext),a=e.createAnalyser(),s=e.createMediaElementSource(t);a.fftSize=2048,a.smoothingTimeConstant=.8,s.connect(a),a.connect(e.destination),tX.current=e,tY.current=a}catch(e){console.log("Audio context setup failed:",e)}return tX.current&&"suspended"===tX.current.state&&tX.current.resume(),()=>{tK.current&&cancelAnimationFrame(tK.current)}}},[e]),(0,n.useEffect)(()=>{if(!tY.current)return;let e=tY.current,t=e.frequencyBinCount,a=new Uint8Array(t),s=0,animate=()=>{if(++s%2==0){let s=v.current,i=s&&!s.paused&&!s.ended;if(i){var n;e.getByteFrequencyData(a);let s=Array(64),i=(null===(n=tX.current)||void 0===n?void 0:n.sampleRate)||44100,r=i/e.fftSize;for(let e=0;e<64;e++){let n,i;if(e<25.6){let t=e/25.6,a=(e+1)/25.6,s=Math.sqrt(t),r=Math.sqrt(a);n=20*Math.pow(40,s),i=20*Math.pow(40,r)}else{let t=e-25.6,a=t/38.4,s=(t+1)/38.4;n=800*Math.pow(20,a),i=800*Math.pow(20,s)}let l=Math.floor(n/r),o=Math.floor(i/r);o<=l&&(o=l+1),l=Math.max(0,Math.min(l,t-1)),o=Math.min(t-1,o);let c=0,d=0;for(let e=l;e<=o;e++)c+=a[e],d++;let h=d?c/d:0,u=1;e<12.8?u=1.5:e<22.4?u=1.2:e>48&&(u=1+(e/64-.75)/.25*.6),s[e]=h*u}H(s)}}tK.current=requestAnimationFrame(animate)};return animate(),()=>{tK.current&&cancelAnimationFrame(tK.current)}},[e]),(0,n.useEffect)(()=>{if(e&&v.current){let e=v.current,t=setTimeout(async()=>{try{tX.current&&"suspended"===tX.current.state&&await tX.current.resume(),await e.play(),R(!0)}catch(e){console.log("Auto-play failed:",e),R(!1)}},100);return()=>clearTimeout(t)}},[e]),(0,n.useEffect)(()=>{let t;if(!y.current||"orb"!==m||!h||!e)return;let a=new r.xsS,s=new r.cPb(75,1,.1,1e3),n=new l.CP7({antialias:!0,alpha:!0}),i=y.current;if(!i)return;let o=Math.min(i.clientWidth,i.clientHeight);n.setSize(o,o),n.setClearColor(0,0),i.innerHTML="",i.appendChild(n.domElement);let c=new r.cJO(es,6),d=new Float32Array(c.attributes.position.array),u=new Float32Array(3*c.attributes.position.count);for(let e=0;e<u.length;e+=3)u[e]=.5,u[e+1]=.5,u[e+2]=.5;c.setAttribute("color",new r.TlE(u,3));let p=new r.vBJ({vertexColors:et,wireframe:et,color:et?16777215:16776960,transparent:!0,opacity:.9}),x=new r.Kj0(c,p);a.add(x),s.position.z=6,s.lookAt(0,0,0),k.current={scene:a,camera:s,renderer:n,mesh:x,originalPositions:d};let g=!1,f={x:0,y:0},w={x:0,y:0},onMouseDown=e=>{g=!0,f={x:e.clientX,y:e.clientY}},onMouseMove=e=>{if(!g)return;let t=e.clientX-f.x,a=e.clientY-f.y;w.y+=.005*t,w.x+=.005*a,w.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,w.x)),f={x:e.clientX,y:e.clientY}},onMouseUp=()=>{g=!1};n.domElement.addEventListener("mousedown",onMouseDown),window.addEventListener("mousemove",onMouseMove),window.addEventListener("mouseup",onMouseUp);let parseRGB=e=>{let t=e.match(/\d+/g);return t&&t.length>=3?{r:parseInt(t[0])/255,g:parseInt(t[1])/255,b:parseInt(t[2])/255}:{r:0,g:1,b:1}},animate=()=>{t=requestAnimationFrame(animate);let e=tC.current,i=tM.current,r=tb.current,l=tj.current,o=parseRGB(A.current),h=parseRGB(P.current);x.rotation.y+=e,x.rotation.x+=.5*e,s.position.x=6*Math.sin(w.y)*Math.cos(w.x),s.position.y=6*Math.sin(w.x),s.position.z=6*Math.cos(w.y)*Math.cos(w.x),s.lookAt(0,0,0);let u=c.attributes.position,m=u.count,p=z.current,g=0;for(let e=0;e<p.length;e++)g+=p[e]||0;let f=g/p.length,v=f/255,y=.001*Date.now()*i;for(let e=0;e<m;e++){let t=d[3*e],a=d[3*e+1],s=d[3*e+2],n=t+y,i=a+y,m=s+y,p=Math.sin(2*n)*Math.cos(2*i)*.5+Math.sin(3*i)*Math.cos(3*m)*.3+Math.sin(4*m)*Math.cos(2*n)*.4+.3*Math.sin((n+i+m)*1.5),x=p*r*2,g=v*l*(.1*x),f=1+g;u.setXYZ(e,t*f,a*f,s*f);let w=c.attributes.color,b=8*Math.abs(g),j=Math.min(1,Math.max(0,b)),M=.15*Math.sin(.5*y+.01*e),C=Math.min(1,Math.max(0,j+M)),N=o.r+(h.r-o.r)*C,S=o.g+(h.g-o.g)*C,k=o.b+(h.b-o.b)*C;w.setXYZ(e,N,S,k)}u.needsUpdate=!0,c.attributes.color.needsUpdate=!0,c.computeVertexNormals(),n.render(a,s)};return animate(),()=>{cancelAnimationFrame(t),n.domElement.removeEventListener("mousedown",onMouseDown),window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("mouseup",onMouseUp),n.dispose(),c.dispose(),p.dispose(),i.contains(n.domElement)&&i.removeChild(n.domElement),k.current=null}},[m,h,e,et,es]),(0,n.useEffect)(()=>{let e;if(!b.current||"web"!==m||!h)return;let t=new r.xsS,a=new r.cPb(75,1,.1,1e3),s=new l.CP7({antialias:!0,alpha:!0}),n=b.current,i=Math.min(n.clientWidth,n.clientHeight);s.setSize(i,i),s.setClearColor(0,0),n.innerHTML="",n.appendChild(s.domElement),a.position.z=5,a.lookAt(0,0,0);let parseRGB=e=>{let t=e.match(/\d+/g);return t&&t.length>=3?{r:parseInt(t[0])/255,g:parseInt(t[1])/255,b:parseInt(t[2])/255}:{r:1,g:.5,b:0}},o=parseRGB(O),c=parseRGB(_),d=[],u=[];for(let e=0;e<24;e++){let t=e/24*3;for(let e=0;e<=64;e++){let a=e/64*Math.PI*2,s=Math.cos(a)*t,n=Math.sin(a)*t;d.push(s,n,0),u.push(o.r,o.g,o.b)}}let p=[];for(let e=0;e<64;e++)for(let t=0;t<23;t++){let a=65*t+e,s=(t+1)*65+e;p.push(a,s)}for(let e=0;e<24;e++)for(let t=0;t<64;t++){let a=65*e+t,s=65*e+t+1;p.push(a,s)}let x=new r.u9r;x.setAttribute("position",new r.a$l(d,3)),x.setAttribute("color",new r.a$l(u,3)),x.setIndex(p);let g=new r.nls({vertexColors:!0,transparent:!0,opacity:.8,blending:r.WMw}),f=new r.ejS(x,g),w=new r.ZAu;w.add(f),t.add(w);let v=0,animate=()=>{e=requestAnimationFrame(animate),v+=.01;let n=z.current,i=Math.floor(.15*n.length),r=Math.floor(.6*n.length),l=0,d=0,h=0,u=0,m=0,p=0;for(let e=0;e<n.length;e++)e<i?(l+=n[e],u++):e<r?(d+=n[e],m++):(h+=n[e],p++);let g=u>0?l/u/255:0,f=m>0?d/m/255:0,y=p>0?h/p/255:0,b=x.attributes.position,j=x.attributes.color,M=0;for(let e=0;e<24;e++){let t=e/24,a=3*t;for(let s=0;s<=64;s++){let n,i,r;let l=s/64*Math.PI*2,d=1+g*tA.current,h=f*Math.sin(3*l+v)*tP.current,u=y*(Math.sin(8*l+5*v)*tF.current),m=a*d+h+u,p=Math.cos(l)*m,x=Math.sin(l)*m,w=.3*Math.sin(.5*e+v+2*g);if(b.setXYZ(M,p,x,w),tE.current){let t,a,l;let o=(s/64*360+15*e)%360,c=.5+.2*g,d=(1-Math.abs(2*c-1))*.8,h=d*(1-Math.abs(o/60%2-1)),u=c-d/2;o<60?(t=d,a=h,l=0):o<120?(t=h,a=d,l=0):o<180?(t=0,a=d,l=h):o<240?(t=0,a=h,l=d):o<300?(t=h,a=0,l=d):(t=d,a=0,l=h),n=t+u,i=a+u,r=l+u}else{let e=g*(1-t),a=y*t;n=o.r*(.5+e)+c.r*a,i=o.g*(.5+e)+c.g*a,r=o.b*(.5+e)+c.b*a}j.setXYZ(M,n,i,r),M++}}b.needsUpdate=!0,j.needsUpdate=!0,w.rotation.z+=tR.current,s.render(t,a)};return animate(),()=>{cancelAnimationFrame(e),s.dispose(),x.dispose(),g.dispose(),n.contains(s.domElement)&&n.removeChild(s.domElement)}},[m,h,O,_,e]),(0,n.useEffect)(()=>{if(!j.current||"terrain"!==m||!h)return;let e=j.current;e.style.cursor="grab",e.style.touchAction="none";let t=new r.xsS,a=new r.cPb(75,e.clientWidth/e.clientHeight,.1,1e3),s=new l.CP7({antialias:!1,alpha:!0,powerPreference:"high-performance"});s.setSize(e.clientWidth,e.clientHeight),s.setClearColor(0,0),e.appendChild(s.domElement);let n=new r.Mig(16777215,.3);t.add(n);let i=new r.Ox3(16777215,.8);i.position.set(5,10,5),t.add(i);let o=new r.Ox3(4482815,.3);o.position.set(-5,5,-5),t.add(o);let c={x:.84,y:1.102},d=!1,u={x:0,y:0},onMouseDown=t=>{d=!0,e.style.cursor="grabbing";let a="touches"in t?t.touches[0]:t;u={x:a.clientX,y:a.clientY}},onMouseMove=e=>{if(!d)return;let t="touches"in e?e.touches[0]:e,a=t.clientX-u.x,s=t.clientY-u.y;c.y+=.005*a,c.x+=.005*s,c.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,c.x)),u={x:t.clientX,y:t.clientY}},onMouseUp=()=>{d=!1,e.style.cursor="grab"};e.addEventListener("mousedown",onMouseDown),e.addEventListener("mousemove",onMouseMove),e.addEventListener("mouseup",onMouseUp),e.addEventListener("mouseleave",onMouseUp),e.addEventListener("touchstart",onMouseDown),e.addEventListener("touchmove",onMouseMove),e.addEventListener("touchend",onMouseUp);let updateCameraPosition=()=>{let e=tD.current,t=tB.current;d||(c.y+=t),a.position.x=e*Math.sin(c.y)*Math.cos(c.x),a.position.y=e*Math.sin(c.x),a.position.z=e*Math.cos(c.y)*Math.cos(c.x),a.lookAt(0,0,-5)};updateCameraPosition();let parseRGB=e=>{let t=e.match(/\d+/g);return t&&t.length>=3?{r:parseInt(t[0])/255,g:parseInt(t[1])/255,b:parseInt(t[2])/255}:{r:1,g:.5,b:0}},p=new r._12(10,20,31,19);p.rotateX(-Math.PI/2);let x=p.attributes.position,g=[];for(let e=0;e<20;e++)g.push(Array(32).fill(0));let f=new Float32Array(3*x.count);for(let e=0;e<x.count;e++)f[3*e]=.5,f[3*e+1]=.5,f[3*e+2]=.5;p.setAttribute("color",new r.TlE(f,3));let w=new r.xoR({vertexColors:!0,wireframe:"wireframe"===tO.current,transparent:!0,opacity:"wireframe"===tO.current?.8:1,side:r.ehD,shininess:30,flatShading:!1}),v=new r.UY4({vertexColors:!0,size:.15,transparent:!0,opacity:.9,sizeAttenuation:!0}),y=new r.Kj0(p,w),b=new r.woe(p,v);y.position.z=-10,b.position.z=-10;let M=tO.current;"grid"===M?t.add(b):t.add(y);let C=Date.now(),N=0,animate=()=>{N=requestAnimationFrame(animate);let e=Date.now(),n=z.current,i=tT.current,r=tL.current,l=tI.current,o=parseRGB(A.current),c=parseRGB(P.current);updateCameraPosition();let d=e-C>=1e3/l;if(d){g.pop();let t=[],a=Math.floor(n.length/32);for(let e=0;e<32;e++){let s=Math.floor(e*a);t.push((n[s]||0)/255*i)}g.unshift(t),C=e}let h=p.attributes.color,u=e-C,m=Math.min(1,u/(1e3/l)),f=[];for(let e=0;e<20;e++)f[e]=Math.pow(r,e);let v=[],j=Math.floor(n.length/32);for(let e=0;e<32;e++){let t=Math.floor(e*j);v.push((n[t]||0)/255*i)}for(let e=0;e<20;e++){let t=f[e],a=e/19;for(let s=0;s<32;s++){let n,r,l;let d=32*e+s,u=(g[e][s]||0)*t;if(0===e){let e=v[s]||0;u+=(e-u)*m}x.setY(d,u);let p=Math.min(1,Math.max(0,u/i));if(p>.7)n=1.5*c.r,r=1.5*c.g,l=1.5*c.b;else{n=c.r*(1-a)+o.r*a,r=c.g*(1-a)+o.g*a,l=c.b*(1-a)+o.b*a;let e=.4*p;n+=e,r+=e,l+=e}n=Math.min(1,Math.max(0,n)),r=Math.min(1,Math.max(0,r)),l=Math.min(1,Math.max(0,l)),h.setXYZ(d,n,r,l)}}x.needsUpdate=!0,h.needsUpdate=!0,p.computeVertexNormals();let M=tO.current,S="grid"===M,k=S&&!t.children.includes(b),F=!S&&!t.children.includes(y);if(k?(t.remove(y),t.add(b)):F&&(t.remove(b),t.add(y)),!S){let e="wireframe"===M;w.wireframe!==e&&(w.wireframe=e,w.opacity=e?.8:1,w.needsUpdate=!0)}s.render(t,a)};return animate(),()=>{cancelAnimationFrame(N),s.dispose(),p.dispose(),w.dispose(),v.dispose(),e.contains(s.domElement)&&e.removeChild(s.domElement)}},[m,h,O,_,e]),(0,n.useEffect)(()=>{if(!M.current||"chrysalis"!==m||!h)return;let e=M.current;e.style.cursor="grab",e.style.touchAction="none";let t=new r.xsS,a=new r.cPb(75,e.clientWidth/e.clientHeight,.1,1e3),s=new l.CP7({antialias:!0,alpha:!0});s.setSize(e.clientWidth,e.clientHeight),s.setClearColor(0,0),e.appendChild(s.domElement),a.position.z=12;let n=new r.ZAu;t.add(n);let i=!1,o={x:0,y:0},c={x:0,y:0},onMouseDown=t=>{i=!0,e.style.cursor="grabbing";let a="touches"in t?t.touches[0]:t;o={x:a.clientX,y:a.clientY}},onMouseMove=e=>{if(!i)return;let t="touches"in e?e.touches[0]:e,a=t.clientX-o.x,s=t.clientY-o.y;c.y+=.005*a,c.x+=.005*s,o={x:t.clientX,y:t.clientY}},onMouseUp=()=>{i=!1,e.style.cursor="grab"};e.addEventListener("mousedown",onMouseDown),e.addEventListener("mousemove",onMouseMove),e.addEventListener("mouseup",onMouseUp),e.addEventListener("mouseleave",onMouseUp),e.addEventListener("touchstart",onMouseDown),e.addEventListener("touchmove",onMouseMove),e.addEventListener("touchend",onMouseUp);let handleResize=()=>{if(!e||!a||!s)return;let t=e.clientWidth,n=e.clientHeight;a.aspect=t/n,a.updateProjectionMatrix(),s.setSize(t,n)};window.addEventListener("resize",handleResize),window.chrysalisCameraView=e=>{switch(e){case"x":c.x=0,c.y=Math.PI/2;break;case"y":c.x=-Math.PI/2,c.y=0;break;case"z":c.x=0,c.y=0}};let noise=(e,t,a)=>{let s=43758.5453123*Math.sin(12.9898*e+78.233*t+a);return s-Math.floor(s)},getColorFromHue=e=>new r.Ilk().setHSL(e/360,.8,.6),createContourLoop=(e,t,a,s,n,i,l)=>{let o=[];for(let n=0;n<s;n++){let c=n/s*Math.PI*2,d=a*Math.sin(c),h=a*Math.cos(c),u=noise(2*c,3*e,l),m=1+(u-.5)*i,p=h*m,x=(t+p)*Math.cos(e),g=(t+p)*Math.sin(e);o.push(new r.Pa4(x,d,g))}let c=new r.u9r().setFromPoints(o),d=new r.nls({color:n,transparent:!0,opacity:.7,linewidth:2}),h=new r.blk(c,d);return h},d=[],initializeLoops=()=>{let e=tV.current;d.forEach(e=>{n.remove(e.loop),e.loop.geometry.dispose(),e.loop.material.dispose()}),d.length=0;for(let t=0;t<e;t++){let a=t/e*Math.PI*2,s=t/(e-1),i=4*Math.sin(s*Math.PI),r=t,l=t/e*360,o=getColorFromHue(l),c=createContourLoop(a,i,5,80,o,t_.current,100*t);n.add(c),d.push({loop:c,baseY:0,baseRadius:5,freqIndex:r,vertices:80,seed:100*t})}};initializeLoops();let u=0,animate=()=>{u=requestAnimationFrame(animate);let e=z.current,l=t_.current,o=tG.current,h=tq.current,m=tV.current;d.length!==m&&initializeLoops(),!i&&o>0&&(c.y+=o),n.rotation.x=c.x,n.rotation.y=c.y,d.forEach((t,a)=>{let s=Math.floor(t.freqIndex/d.length*e.length),n=Math.min(s,e.length-1),i=(e[n]||0)/255,o=a/d.length*Math.PI*2,c=a/(d.length-1),u=4*Math.sin(c*Math.PI),m=t.baseRadius*(1+i*h),p=[],x=.001*Date.now();for(let e=0;e<t.vertices;e++){let a=e/t.vertices*Math.PI*2,s=m*Math.sin(a),n=m*Math.cos(a),i=noise(2*a+.2*x,3*o,t.seed),c=1+(i-.5)*l,d=n*c,h=(u+d)*Math.cos(o),g=(u+d)*Math.sin(o);p.push(new r.Pa4(h,s,g))}t.loop.geometry.setFromPoints(p);let g=t.loop.material;g.opacity=.5+.4*i}),s.render(t,a)};return animate(),()=>{cancelAnimationFrame(u),s.dispose(),d.forEach(e=>{e.loop.geometry.dispose(),e.loop.material.dispose()}),e.removeEventListener("mousedown",onMouseDown),e.removeEventListener("mousemove",onMouseMove),e.removeEventListener("mouseup",onMouseUp),e.removeEventListener("mouseleave",onMouseUp),e.removeEventListener("touchstart",onMouseDown),e.removeEventListener("touchmove",onMouseMove),e.removeEventListener("touchend",onMouseUp),window.removeEventListener("resize",handleResize),delete window.chrysalisCameraView,e.contains(s.domElement)&&e.removeChild(s.domElement)}},[m,h,e]),(0,n.useEffect)(()=>{if(!C.current||"sonicGalaxy"!==m||!h)return;let e=C.current,t=new SonicGalaxyVisualizer(e,{particleCount:eK,attractorCount:e$,bassGravity:eQ,midSpin:e1,maxSpeed:e5,velocityDamping:e3,particleSize:e8,cameraSpeed:e9,boundSize:tt,beatSensitivity:ts},{dominant:A.current,accent:P.current});t.start(),window.sonicGalaxyVisualizer=t;let a=0,updateAudio=()=>{a=requestAnimationFrame(updateAudio);let e=z.current,s=e.slice(0,10).reduce((e,t)=>e+t,0)/10*2.55,n=e.slice(10,30).reduce((e,t)=>e+t,0)/20*2.55,i=e.slice(30,64).reduce((e,t)=>e+t,0)/34*2.55;t.setAudioData({frequencyData:new Uint8Array(64),audioData:e,bassAvg:s,midAvg:n,highAvg:i,averageFrequency:0,normalizedFrequency:0,isPlaying:F})};return updateAudio(),()=>{cancelAnimationFrame(a),t.destroy(),delete window.sonicGalaxyVisualizer}},[m,h,e,eK,e$,eQ,e1,e5,e3,e8,e9,tt,ts,F]),(0,n.useEffect)(()=>{if(!N.current||"raindrops"!==m||!h)return;let e=N.current,t=new RaindropsVisualizer(e,{maxRipples:tl,bassThreshold:tc,drizzleRate:th,planeSize:tm,intensity:tx,ringThickness:tf,layoutMode:tv},{dominant:A.current,accent:P.current});t.start(),window.raindropsVisualizer=t;let a=0,updateAudio=()=>{a=requestAnimationFrame(updateAudio);let e=z.current,s=e.slice(0,10).reduce((e,t)=>e+t,0)/10*2.55,n=e.slice(10,30).reduce((e,t)=>e+t,0)/20*2.55,i=e.slice(30,64).reduce((e,t)=>e+t,0)/34*2.55;t.setAudioData({frequencyData:new Uint8Array(64),audioData:e,bassAvg:s,midAvg:n,highAvg:i,averageFrequency:0,normalizedFrequency:0,isPlaying:F})};return updateAudio(),()=>{cancelAnimationFrame(a),t.destroy(),delete window.raindropsVisualizer}},[m,h,e,tl,tc,th,tm,tx,tf,tv,F]);let togglePlay=async()=>{let t=v.current;if(t){if(F)t.pause(),R(!1),window.clarity&&e&&window.clarity("event","song_paused",e.title);else try{tX.current&&"suspended"===tX.current.state&&await tX.current.resume(),await t.play(),R(!0),window.clarity&&e&&window.clarity("event","song_played",e.title)}catch(e){console.log("Play failed:",e)}}},playNext=()=>{t$<tZ.length-1&&handleMixSelect(tZ[t$+1],!0)},playPrevious=()=>{let e=v.current;e&&e.currentTime>3?e.currentTime=0:t$>0&&handleMixSelect(tZ[t$-1],!0)},extractColors=e=>{let t=new Image;t.crossOrigin="Anonymous",t.src=e,t.onload=()=>{try{let e=document.createElement("canvas"),a=e.getContext("2d");if(!a)return;e.width=t.width,e.height=t.height,a.drawImage(t,0,0);let s=a.getImageData(0,0,e.width,e.height),n=s.data,i=0,r=0,l=0,o=0,c=0,d=0,h=0,u=0;for(let e=0;e<n.length;e+=4){let t=(n[e]+n[e+1]+n[e+2])/3;t>40&&t<180&&(i+=n[e],r+=n[e+1],l+=n[e+2],o++),t>100&&t<220&&(c+=n[e],d+=n[e+1],h+=n[e+2],u++)}if(o>0){let e=Math.floor(i/o),t=Math.floor(r/o),a=Math.floor(l/o);V("rgb(".concat(e,", ").concat(t,", ").concat(a,")"))}if(u>0){let e=Math.floor(c/u),t=Math.floor(d/u),a=Math.floor(h/u);G("rgb(".concat(e,", ").concat(t,", ").concat(a,")"))}}catch(e){console.log("Color extraction failed:",e)}}},handleMixSelect=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],t(e),T(0),L(0),B(0),extractColors(e.cover),d(!0),u(!0),window.clarity&&window.clarity("event","song_selected",e.title)},handleProgressClick=t=>{let a=v.current;if(!a)return;let s=t.currentTarget,n=s.getBoundingClientRect(),i=t.clientX-n.left,r=n.width,l=i/r*100,o=l/100*a.duration;a.currentTime=o,T(l),L(o),window.clarity&&e&&window.clarity("event","progress_scrubbed",e.title)};return(0,n.useEffect)(()=>{let e=x.replace(/ /g,"+"),t=document.createElement("link");return t.href="https://fonts.googleapis.com/css2?family=".concat(e,":wght@400;700&display=swap"),t.rel="stylesheet",document.head.appendChild(t),()=>{document.head.removeChild(t)}},[x]),(0,n.useEffect)(()=>{let handleKeyDown=e=>{(e.metaKey||e.ctrlKey)&&"d"===e.key&&(e.preventDefault(),w(e=>!e))};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)},[]),(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white relative",style:{fontFamily:x},children:[e&&(0,s.jsx)("div",{className:"fixed inset-0 z-0 transition-opacity duration-1000",style:{backgroundImage:"url(".concat(e.cover,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,s.jsx)("div",{className:"absolute inset-0 bg-black/75 backdrop-blur-3xl"})}),(0,s.jsxs)("div",{className:"relative z-10 p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4 gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer",onClick:()=>d(!1),children:[(0,s.jsx)("img",{src:"https://media.parttimechiller.com/logo3.png",alt:"Part Time Chiller",className:"h-10 sm:h-12"}),(0,s.jsx)("span",{className:"text-base sm:text-xl font-bold hidden sm:inline",children:"Part Time Chiller"}),f&&(0,s.jsx)("select",{value:x,onChange:e=>g(e.target.value),className:"ml-2 px-2 py-1 text-xs rounded border border-neutral-700 bg-black/50 backdrop-blur hover:border-white transition-colors cursor-pointer focus:outline-none focus:border-white",title:"Select Font (Debug Mode)",children:["Stint Ultra Expanded","Barrio","Bungee Hairline","Splash","Cal Sans","Inconsolata","Kumbh Sans","Nabla","Barriecito"].map(e=>(0,s.jsx)("option",{value:e,style:{fontFamily:e},children:e},e))})]}),(0,s.jsx)("div",{className:"flex items-center justify-center flex-1",children:(0,s.jsxs)("div",{className:"flex space-x-1 sm:space-x-2",children:[(0,s.jsx)("a",{href:"https://instagram.com/parttimechiller",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full flex items-center justify-center transition-all bg-neutral-800 hover:bg-gradient-to-br hover:from-purple-600 hover:to-pink-500 hover:scale-110",title:"Instagram",children:(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),(0,s.jsx)("a",{href:"https://youtube.com/@parttimechiller",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full flex items-center justify-center transition-all bg-neutral-800 hover:bg-red-600 hover:scale-110",title:"YouTube",children:(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),(0,s.jsx)("a",{href:"https://open.spotify.com/user/ameet3000?si=833fb8c8623241a1",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full flex items-center justify-center transition-all bg-neutral-800 hover:bg-green-500 hover:scale-110",title:"Spotify",children:(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})})})]})}),(0,s.jsxs)("div",{className:"flex space-x-1 sm:space-x-2",children:[(0,s.jsx)("button",{onClick:()=>o("all"),className:"px-2 sm:px-3 py-1 rounded text-xs sm:text-sm transition-colors ".concat("all"===a?"bg-white text-black":"bg-neutral-800 text-white hover:bg-neutral-700"),children:"All"}),(0,s.jsx)("button",{onClick:()=>o("mix"),className:"px-2 sm:px-3 py-1 rounded text-xs sm:text-sm transition-colors ".concat("mix"===a?"bg-white text-black":"bg-neutral-800 text-white hover:bg-neutral-700"),children:"Mixes"}),(0,s.jsx)("button",{onClick:()=>o("track"),className:"px-2 sm:px-3 py-1 rounded text-xs sm:text-sm transition-colors ".concat("track"===a?"bg-white text-black":"bg-neutral-800 text-white hover:bg-neutral-700"),children:"Tracks"})]})]}),(0,s.jsx)("div",{className:"space-y-2 pb-28",children:tZ.map((e,t)=>(0,s.jsx)("div",{onClick:()=>handleMixSelect(e),className:"bg-neutral-900 border border-neutral-800 hover:border-white transition-all duration-300 cursor-pointer rounded-lg hover:shadow-lg hover:scale-[1.01] active:scale-[0.99]",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3",children:[(0,s.jsx)("img",{src:e.cover,alt:e.title,className:"w-12 h-12 rounded object-cover",onError:e=>{var t;let a=e.target;a.style.display="none",null===(t=a.nextElementSibling)||void 0===t||t.classList.remove("hidden")}}),(0,s.jsx)("div",{className:"w-12 h-12 rounded bg-neutral-700 flex items-center justify-center hidden",children:(0,s.jsx)("span",{className:"text-xs text-neutral-400",children:"\uD83C\uDFB5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h2",{className:"text-md font-medium leading-tight",children:e.title}),(0,s.jsxs)("p",{className:"text-xs text-neutral-400",children:[e.description," â€¢ ",e.duration]})]}),(0,s.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded border transition-colors ".concat("mix"===e.type?"border-purple-500/40 text-purple-400/90":"border-blue-500/40 text-blue-400/90"),children:e.type})]})},t))}),e&&(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsxs)("div",{className:"fixed bottom-20 left-0 right-0 h-24 pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute inset-0",style:{background:"linear-gradient(to top, ".concat(O,"15, transparent)")}}),(0,s.jsx)("div",{className:"relative h-full flex items-end justify-center gap-1.5 px-4",children:q.map((e,t)=>(0,s.jsx)("div",{className:"flex-1 h-full origin-bottom rounded-t-md will-change-transform",style:{transform:"scaleY(".concat(Math.max(.08,e/255),")"),background:"linear-gradient(to top, ".concat(O,", ").concat(_,")"),opacity:F?.9:.4}},t))})]}),(0,s.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 px-4 py-3 flex items-center space-x-4 backdrop-blur-xl transition-all duration-500",style:{background:"linear-gradient(to right, ".concat(O,"25, ").concat(_,"25)"),borderColor:"".concat(O,"30")},children:[(0,s.jsx)("button",{className:"p-0 m-0 border-none bg-transparent",onClick:()=>d(!0),"aria-label":"Open detailed player",children:(0,s.jsx)("img",{src:e.cover,alt:e.title,className:"w-12 h-12 rounded object-cover shadow-lg transition-all duration-500",style:{boxShadow:"0 0 0 2px ".concat(_,"40")},onError:e=>{let t=e.target;t.style.display="none";let a=e.currentTarget.nextElementSibling;null==a||a.classList.remove("hidden")}})}),(0,s.jsx)("div",{className:"w-12 h-12 rounded bg-neutral-700 flex items-center justify-center hidden",children:(0,s.jsx)("span",{className:"text-xs text-neutral-400",children:"\uD83C\uDFB5"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"text-sm font-medium truncate overflow-hidden text-ellipsis whitespace-nowrap",children:e.title}),(0,s.jsx)("div",{className:"w-full h-1.5 bg-black/30 rounded-full overflow-hidden mt-1 cursor-pointer relative backdrop-blur",onClick:handleProgressClick,children:(0,s.jsx)("div",{className:"h-full transition-all duration-300 shadow-lg",style:{width:"".concat(E,"%"),background:"linear-gradient(to right, ".concat(O,", ").concat(_,")")}})}),(0,s.jsx)("div",{className:"flex justify-between items-center mt-1",children:(0,s.jsxs)("span",{className:"text-xs text-neutral-300",children:[formatTime(I)," / ",formatTime(D)]})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:playPrevious,className:"w-10 h-10 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(O,", ").concat(_,")")},"aria-label":"Previous track",disabled:0===t$,children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),(0,s.jsx)("button",{onClick:togglePlay,className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(O,", ").concat(_,")")},children:F?(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,s.jsx)("button",{onClick:playNext,className:"w-10 h-10 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(O,", ").concat(_,")")},"aria-label":"Next track",disabled:t$===tZ.length-1,children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})})]}),(0,s.jsx)("audio",{ref:v,src:e.audio,preload:"metadata",crossOrigin:"anonymous"})]})]}),e&&c&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col",children:[(0,s.jsx)("div",{className:"absolute inset-0 transition-opacity duration-1000",style:{backgroundImage:"url(".concat(e.cover,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,s.jsx)("div",{className:"absolute inset-0 bg-black/85 backdrop-blur-3xl"})}),(0,s.jsxs)("div",{className:"relative z-10 flex items-center justify-between px-4 py-3 border-b border-neutral-800/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>d(!1),children:[(0,s.jsx)("img",{src:"/ptc-player/logo3.png",alt:"PTC",className:"h-10 w-10"}),(0,s.jsx)("span",{className:"text-lg font-bold",children:"Part Time Chiller"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>u(!h),className:"px-3 py-1 rounded bg-neutral-800 hover:bg-neutral-700 text-white text-sm transition-colors",title:h?"Show Album Art":"Show Visualizer",children:h?(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}):(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>p(e=>"bars"===e?"orb":"orb"===e?"web":"web"===e?"terrain":"terrain"===e?"chrysalis":"chrysalis"===e?"sonicGalaxy":"sonicGalaxy"===e?"raindrops":"bars"),className:"px-3 py-1 rounded bg-neutral-800 hover:bg-neutral-700 text-white text-sm transition-colors",title:"Current: ".concat("bars"===m?"Bars":"orb"===m?"Orb":"web"===m?"Web":"terrain"===m?"Terrain":"chrysalis"===m?"Chrysalis":"sonicGalaxy"===m?"Sonic Galaxy":"Raindrops"),children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,s.jsx)("button",{onClick:()=>{let e=["bars","orb","web","terrain","chrysalis","sonicGalaxy","raindrops"],t=e[Math.floor(Math.random()*e.length)];if(p(t),"bars"===t)er(2*Math.random()+.5),eo(.5*Math.random()+.05),ed(Math.floor(11*Math.random())+2);else if("web"===t)ep(2*Math.random()+1),eg(1.5*Math.random()+.5),ew(1.5*Math.random()+.5),ey(.015*Math.random()+.005);else if("terrain"===t){eC(4*Math.random()+1),eS(19*Math.random()+1),ez(.14*Math.random()+.85),eP(10*Math.random()+5),eR(.01*Math.random());let e=["grid","wireframe","surface"];eT(e[Math.floor(Math.random()*e.length)])}else"chrysalis"===t&&(eL(8*Math.floor(7*Math.random())+16),eB(Math.random()),eV(.01*Math.random()),eG(1.5*Math.random()),eX(4.5*Math.random()+.5))},className:"px-3 py-1 rounded bg-neutral-800 hover:bg-neutral-700 text-white text-sm transition-colors",title:"Randomize Visualizer",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),(0,s.jsx)("button",{onClick:()=>W(!U),className:"px-3 py-1 rounded bg-neutral-800 hover:bg-neutral-700 text-white text-sm transition-colors",title:U?"Hide Controls":"Show Controls",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})})]})]})]}),U&&h&&(0,s.jsxs)("div",{className:"absolute top-20 right-4 w-72 p-4 rounded-lg backdrop-blur-xl bg-black/60 border border-white/10 z-20 space-y-3",children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-white/90 mb-3 flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"bars"===m?"Bars":"orb"===m?"Orb":"web"===m?"Web":"terrain"===m?"Terrain":"chrysalis"===m?"Chrysalis":"sonicGalaxy"===m?"Sonic Galaxy":"Raindrops"," Controls"]}),"bars"===m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Bar Height"}),(0,s.jsx)("span",{className:"font-mono",children:ei.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0.5",max:"2.5",step:"0.1",value:ei,onChange:e=>er(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Smoothness"}),(0,s.jsx)("span",{className:"font-mono",children:el.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"1.5",step:"0.05",value:el,onChange:e=>eo(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Bar Width"}),(0,s.jsxs)("span",{className:"font-mono",children:[ec,"px"]})]}),(0,s.jsx)("input",{type:"range",min:"4",max:"60",step:"2",value:ec,onChange:e=>ed(parseInt(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"flex items-center justify-between text-xs text-white/70",children:[(0,s.jsx)("span",{children:"Rainbow Colors"}),(0,s.jsx)("button",{onClick:()=>eu(!eh),className:"px-3 py-1 rounded transition-all duration-300 text-xs font-medium ".concat(eh?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 hover:bg-white/20 text-white/70"),children:eh?"ON":"OFF"})]})}),(0,s.jsx)("button",{onClick:()=>{er(1),eo(1),ed(4),eu(!1)},className:"w-full mt-2 px-3 py-2 rounded bg-white/10 text-white/70 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"Reset to Defaults"})]}),"orb"===m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Audio Intensity"}),(0,s.jsx)("span",{className:"font-mono",children:Y.toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"5",step:"0.1",value:Y,onChange:e=>X(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Surface Detail"}),(0,s.jsx)("span",{className:"font-mono",children:K.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:K,onChange:e=>Z(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Animation Speed"}),(0,s.jsx)("span",{className:"font-mono",children:$.toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"2",step:"0.1",value:$,onChange:e=>J(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Rotation Speed"}),(0,s.jsx)("span",{className:"font-mono",children:(1e3*Q).toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"0.01",step:"0.0005",value:Q,onChange:e=>ee(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Orb Radius"}),(0,s.jsx)("span",{className:"font-mono",children:es.toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"1",max:"4",step:"0.1",value:es,onChange:e=>en(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsx)("button",{onClick:()=>ea(!et),className:"w-full px-3 py-2 rounded text-sm font-medium transition-all ".concat(et?"bg-neutral-800 hover:bg-neutral-700 text-white":"text-white hover:bg-white/10"),style:et?void 0:{background:"linear-gradient(135deg, ".concat(O,", ").concat(_,")")},children:et?"Wireframe Mode":"Solid Mode"}),(0,s.jsx)("button",{onClick:()=>{X(3.6),Z(.55),J(2),ee(.003),en(2)},className:"w-full mt-2 px-3 py-2 rounded bg-white/10 text-white/70 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"Reset to Defaults"})]}),"web"===m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Bass Pulse"}),(0,s.jsx)("span",{className:"font-mono",children:em.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:em,onChange:e=>ep(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Mid Extension"}),(0,s.jsx)("span",{className:"font-mono",children:ex.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:ex,onChange:e=>eg(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"High Shimmer"}),(0,s.jsx)("span",{className:"font-mono",children:ef.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"0.5",step:"0.025",value:ef,onChange:e=>ew(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Rotation Speed"}),(0,s.jsx)("span",{className:"font-mono",children:(1e3*ev).toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"0.01",step:"0.0005",value:ev,onChange:e=>ey(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"flex items-center justify-between text-xs text-white/70",children:[(0,s.jsx)("span",{children:"Rainbow Colors"}),(0,s.jsx)("button",{onClick:()=>ej(!eb),className:"px-3 py-1 rounded transition-all duration-300 text-xs font-medium ".concat(eb?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-white/10 hover:bg-white/20 text-white/70"),children:eb?"ON":"OFF"})]})}),(0,s.jsx)("button",{onClick:()=>{ep(.4),eg(.5),ew(.1),ey(.002),ej(!1)},className:"w-full mt-2 px-3 py-2 rounded bg-white/10 text-white/70 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"Reset to Defaults"})]}),"terrain"===m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Wave Amplitude"}),(0,s.jsx)("span",{className:"font-mono",children:eM.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0.5",max:"5",step:"0.1",value:eM,onChange:e=>eC(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Wave Speed"}),(0,s.jsx)("span",{className:"font-mono",children:eN.toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"0.5",max:"20",step:"0.5",value:eN,onChange:e=>eS(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Wave Decay"}),(0,s.jsx)("span",{className:"font-mono",children:ek.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0.85",max:"0.99",step:"0.01",value:ek,onChange:e=>ez(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Camera Distance"}),(0,s.jsx)("span",{className:"font-mono",children:eA.toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"5",max:"15",step:"0.5",value:eA,onChange:e=>eP(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Auto Rotation"}),(0,s.jsx)("span",{className:"font-mono",children:eF.toFixed(4)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"0.01",step:"0.0005",value:eF,onChange:e=>eR(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"flex items-center justify-between text-xs text-white/70",children:[(0,s.jsx)("span",{children:"Render Mode"}),(0,s.jsx)("button",{onClick:()=>{let e=["grid","wireframe","surface"],t=e.indexOf(eE),a=(t+1)%e.length;eT(e[a])},className:"px-3 py-1 rounded bg-white/10 hover:bg-white/20 transition-all duration-300 text-xs font-medium capitalize",children:eE})]})}),(0,s.jsx)("button",{onClick:()=>{eC(3.9),eS(17.5),ez(.95),eP(9.5),eR(5e-4),eT("wireframe")},className:"w-full mt-2 px-3 py-2 rounded bg-white/10 text-white/70 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"Reset to Defaults"})]}),"chrysalis"===m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Contour Loops"}),(0,s.jsx)("span",{className:"font-mono",children:eI})]}),(0,s.jsx)("input",{type:"range",min:"16",max:"64",step:"8",value:eI,onChange:e=>eL(parseInt(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Noise Scale"}),(0,s.jsx)("span",{className:"font-mono",children:eD.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:eD,onChange:e=>eB(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Rotation Speed"}),(0,s.jsx)("span",{className:"font-mono",children:eO.toFixed(4)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"0.01",step:"0.0005",value:eO,onChange:e=>eV(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Pulse Intensity"}),(0,s.jsx)("span",{className:"font-mono",children:e_.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"1.5",step:"0.1",value:e_,onChange:e=>eG(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Line Thickness"}),(0,s.jsx)("span",{className:"font-mono",children:eY.toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"0.5",max:"5",step:"0.5",value:eY,onChange:e=>eX(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"flex items-center justify-between text-xs text-white/70 mb-2",children:(0,s.jsx)("span",{children:"Camera View"})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsx)("button",{onClick:()=>{window.chrysalisCameraView&&window.chrysalisCameraView("x")},className:"px-3 py-1 rounded bg-white/10 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"X"}),(0,s.jsx)("button",{onClick:()=>{window.chrysalisCameraView&&window.chrysalisCameraView("y")},className:"px-3 py-1 rounded bg-white/10 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"Y"}),(0,s.jsx)("button",{onClick:()=>{window.chrysalisCameraView&&window.chrysalisCameraView("z")},className:"px-3 py-1 rounded bg-white/10 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"Z"})]})]}),(0,s.jsx)("button",{onClick:()=>{eL(56),eB(.05),eV(.003),eG(.7),eH(3),eW(4),eX(2)},className:"w-full mt-2 px-3 py-2 rounded bg-white/10 text-white/70 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"Reset to Defaults"})]}),"sonicGalaxy"===m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Particle Count"}),(0,s.jsx)("span",{className:"font-mono",children:eK.toLocaleString()})]}),(0,s.jsx)("input",{type:"range",min:"10000",max:"100000",step:"10000",value:eK,onChange:e=>eZ(parseInt(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Attractors"}),(0,s.jsx)("span",{className:"font-mono",children:e$})]}),(0,s.jsx)("input",{type:"range",min:"2",max:"6",step:"1",value:e$,onChange:e=>eJ(parseInt(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Bass Gravity"}),(0,s.jsxs)("span",{className:"font-mono",children:[eQ.toFixed(1),"x"]})]}),(0,s.jsx)("input",{type:"range",min:"0.5",max:"5",step:"0.1",value:eQ,onChange:e=>e0(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Mid Spin"}),(0,s.jsxs)("span",{className:"font-mono",children:[e1.toFixed(1),"x"]})]}),(0,s.jsx)("input",{type:"range",min:"0.5",max:"5",step:"0.1",value:e1,onChange:e=>e2(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Max Speed"}),(0,s.jsx)("span",{className:"font-mono",children:e5})]}),(0,s.jsx)("input",{type:"range",min:"2",max:"15",step:"0.5",value:e5,onChange:e=>e4(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Damping"}),(0,s.jsx)("span",{className:"font-mono",children:e3.toFixed(3)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"0.2",step:"0.01",value:e3,onChange:e=>e6(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Particle Size"}),(0,s.jsx)("span",{className:"font-mono",children:e8.toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:e8,onChange:e=>e7(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Camera Speed"}),(0,s.jsx)("span",{className:"font-mono",children:e9.toFixed(4)})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"0.02",step:"0.001",value:e9,onChange:e=>te(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Bound Size"}),(0,s.jsx)("span",{className:"font-mono",children:tt})]}),(0,s.jsx)("input",{type:"range",min:"5",max:"20",step:"1",value:tt,onChange:e=>ta(parseInt(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Beat Sensitivity"}),(0,s.jsx)("span",{className:"font-mono",children:ts.toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:ts,onChange:e=>tn(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsx)("button",{onClick:()=>{eZ(1e4),eJ(3),e0(2),e2(2),e4(3),e6(.05),e7(.5),te(.004),ta(11),tn(1.8)},className:"w-full mt-2 px-3 py-2 rounded bg-white/10 text-white/70 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"Reset to Defaults"}),(0,s.jsx)("button",{onClick:()=>tr(!ti),className:"w-full mt-2 px-3 py-2 rounded bg-white/10 text-white/70 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:ti?"âœ• Hide Debug Panel":"âš™ Show Debug Panel"})]}),"raindrops"===m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Layout Mode"}),(0,s.jsx)("span",{className:"font-mono",children:0===tv?"Rain":1===tv?"Row":2===tv?"Grid":"Spiral"})]}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[0,1,2,3].map(e=>(0,s.jsx)("button",{onClick:()=>ty(e),className:"px-2 py-2 rounded text-xs font-medium transition-all duration-200 border ".concat(tv===e?"bg-white/20 text-white border-white/30":"bg-white/5 text-white/70 hover:bg-white/10 border-white/10"),title:0===e?"Rainfall (random)":1===e?"Row (lowâ†’high)":2===e?"Grid (8\xd78)":"Spiral (outward)",children:0===e?"Rain":1===e?"Row":2===e?"Grid":"Spiral"},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Max Ripples"}),(0,s.jsx)("span",{className:"font-mono",children:tl})]}),(0,s.jsx)("input",{type:"range",min:"32",max:"256",step:"16",value:tl,onChange:e=>to(parseInt(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Bass Threshold"}),(0,s.jsx)("span",{className:"font-mono",children:tc.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0.1",max:"0.8",step:"0.05",value:tc,onChange:e=>td(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Drizzle Rate"}),(0,s.jsx)("span",{className:"font-mono",children:th.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0.05",max:"0.5",step:"0.05",value:th,onChange:e=>tu(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Plane Size"}),(0,s.jsx)("span",{className:"font-mono",children:tm})]}),(0,s.jsx)("input",{type:"range",min:"10",max:"40",step:"2",value:tm,onChange:e=>tp(parseInt(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Intensity"}),(0,s.jsx)("span",{className:"font-mono",children:tx.toFixed(1)})]}),(0,s.jsx)("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:tx,onChange:e=>tg(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,s.jsx)("span",{children:"Ring Thickness"}),(0,s.jsx)("span",{className:"font-mono",children:tf.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:tf,onChange:e=>tw(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:O}})]}),(0,s.jsx)("button",{onClick:()=>{to(64),td(.1),tu(.05),tp(40),tg(.8),tw(.1),ty(0)},className:"w-full mt-2 px-3 py-2 rounded bg-white/10 text-white/70 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"Reset to Defaults"})]})]}),(0,s.jsx)("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-4 gap-6",children:h?"bars"===m?(0,s.jsx)("div",{ref:S,className:"w-full max-w-3xl aspect-square max-h-[60vh] flex items-end justify-between px-0",children:q.map((e,t)=>{let a;let n=Math.min(1,Math.max(.02,e/255*ei));if(eh){let e=t/q.length*360;a="hsl(".concat(e,", ").concat(80,"%, ").concat(60,"%)")}else a="linear-gradient(to top, ".concat(O,", ").concat(_,")");return(0,s.jsx)("div",{className:"h-full origin-bottom rounded-t-md",style:{width:"".concat(ec,"px"),maxWidth:"".concat(ec,"px"),minWidth:"".concat(ec,"px"),transform:"scaleY(".concat(n,")"),background:a,opacity:F?.95:.5,transition:"transform ".concat(100*el,"ms ease-out")}},t)})},"bars-".concat(eh)):"orb"===m?(0,s.jsx)("div",{ref:y,className:"w-full max-w-3xl aspect-square max-h-[60vh] flex items-center justify-center cursor-grab active:cursor-grabbing",style:{touchAction:"none"}}):"web"===m?(0,s.jsx)("div",{ref:b,className:"w-full max-w-3xl aspect-square max-h-[60vh] flex items-center justify-center mx-auto"}):"terrain"===m?(0,s.jsx)("div",{ref:j,className:"w-full max-w-3xl aspect-square max-h-[60vh] flex items-center justify-center"}):"chrysalis"===m?(0,s.jsx)("div",{ref:M,className:"w-full max-w-3xl aspect-square max-h-[60vh] flex items-center justify-center"}):"sonicGalaxy"===m?(0,s.jsxs)("div",{className:"relative w-full max-w-3xl aspect-square max-h-[60vh]",children:[(0,s.jsx)("div",{ref:C,className:"w-full h-full flex items-center justify-center"}),ti&&(0,s.jsxs)("div",{className:"absolute top-0 left-0 bg-black/80 backdrop-blur-sm p-3 rounded text-xs font-mono text-white/70 space-y-1 border border-white/10",children:[(0,s.jsx)("div",{className:"text-white/90 font-bold mb-2",children:"Debug Values"}),(0,s.jsxs)("div",{children:["Particle Count: ",(0,s.jsx)("span",{className:"text-white",children:eK})]}),(0,s.jsxs)("div",{children:["Attractors: ",(0,s.jsx)("span",{className:"text-white",children:e$})]}),(0,s.jsxs)("div",{children:["Bass Gravity: ",(0,s.jsxs)("span",{className:"text-white",children:[eQ.toFixed(1),"x"]})]}),(0,s.jsxs)("div",{children:["Mid Spin: ",(0,s.jsxs)("span",{className:"text-white",children:[e1.toFixed(1),"x"]})]}),(0,s.jsxs)("div",{children:["Max Speed: ",(0,s.jsx)("span",{className:"text-white",children:e5})]}),(0,s.jsxs)("div",{children:["Damping: ",(0,s.jsx)("span",{className:"text-white",children:e3.toFixed(3)})]}),(0,s.jsxs)("div",{children:["Particle Size: ",(0,s.jsx)("span",{className:"text-white",children:e8.toFixed(1)})]}),(0,s.jsxs)("div",{children:["Camera Speed: ",(0,s.jsx)("span",{className:"text-white",children:e9.toFixed(4)})]}),(0,s.jsxs)("div",{children:["Bound Size: ",(0,s.jsx)("span",{className:"text-white",children:tt})]}),(0,s.jsxs)("div",{children:["Beat Sensitivity: ",(0,s.jsx)("span",{className:"text-white",children:ts.toFixed(1)})]}),(0,s.jsxs)("div",{className:"pt-2 mt-2 border-t border-white/20",children:[(0,s.jsxs)("div",{children:["Bass Avg: ",(0,s.jsx)("span",{className:"text-white",children:q.length>0?Math.floor(q.slice(0,8).reduce((e,t)=>e+t,0)/8):0})]}),(0,s.jsxs)("div",{children:["Mid Avg: ",(0,s.jsx)("span",{className:"text-white",children:q.length>0?Math.floor(q.slice(8,32).reduce((e,t)=>e+t,0)/24):0})]}),(0,s.jsxs)("div",{children:["High Avg: ",(0,s.jsx)("span",{className:"text-white",children:q.length>0?Math.floor(q.slice(32).reduce((e,t)=>e+t,0)/(q.length-32)):0})]})]})]})]}):"raindrops"===m?(0,s.jsx)("div",{ref:N,className:"w-full max-w-3xl aspect-square max-h-[60vh] flex items-center justify-center"}):null:(0,s.jsx)("img",{src:e.cover,alt:e.title,className:"w-[80vw] max-w-md aspect-square object-cover rounded shadow-xl",style:{boxShadow:"0 0 0 3px ".concat(_,"40")}})}),(0,s.jsx)("div",{className:"relative z-10 px-4 py-6 border-t border-neutral-800/50",children:(0,s.jsxs)("div",{className:"w-full max-w-3xl mx-auto space-y-4",children:[(0,s.jsx)("div",{className:"text-center text-xl font-semibold truncate",children:e.title}),(0,s.jsx)("div",{className:"w-full h-2 bg-black/40 rounded-full overflow-hidden cursor-pointer",onClick:handleProgressClick,children:(0,s.jsx)("div",{className:"h-full",style:{width:"".concat(E,"%"),background:"linear-gradient(to right, ".concat(O,", ").concat(_,")")}})}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm text-neutral-300",children:[(0,s.jsx)("span",{children:formatTime(I)}),(0,s.jsx)("span",{children:formatTime(D)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,s.jsx)("button",{onClick:()=>d(!1),className:"w-12 h-12 rounded-full flex items-center justify-center bg-neutral-800/80 hover:bg-neutral-700 text-white transition-colors backdrop-blur","aria-label":"Show playlist",title:"Show playlist",children:(0,s.jsx)("img",{src:"/ptc-player/playlist.svg",alt:"Playlist",className:"w-6 h-6"})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:playPrevious,className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(O,", ").concat(_,")")},disabled:0===t$,"aria-label":"Previous track",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),(0,s.jsx)("button",{onClick:togglePlay,className:"w-16 h-16 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(O,", ").concat(_,")")},children:F?(0,s.jsx)("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,s.jsx)("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,s.jsx)("button",{onClick:playNext,className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(O,", ").concat(_,")")},disabled:t$===tZ.length-1,"aria-label":"Next track",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})})]}),(0,s.jsx)("a",{href:null==e?void 0:e.audio,download:null==e?void 0:e.title,className:"w-12 h-12 rounded-full flex items-center justify-center bg-neutral-800/80 hover:bg-neutral-700 text-white transition-colors backdrop-blur","aria-label":"Download track",title:"Download track",children:(0,s.jsx)("img",{src:"/ptc-player/download.svg",alt:"Download",className:"w-6 h-6"})})]})]})})]})]})]})}}},function(e){e.O(0,[737,934,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);