(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(6021)}])},6021:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Mixes}});var r=a(5893),n=a(7294);let s=[{title:"Slow Burn",cover:"https://media.parttimechiller.com/SlowBurn_PTC.png",audio:"https://media.parttimechiller.com/SlowBurn_PTC.mp3",duration:"3:47",description:"Low end head nodding vibes",type:"track"},{title:"Synthcopated",cover:"https://media.parttimechiller.com/Synthcopated_PTC.png",audio:"https://media.parttimechiller.com/Synthcopated_PTC.mp3",duration:"3:17",description:"Synths and beats that are stressed unexpectedly, emphasizing an off-beat where a weaker beat is usually expected",type:"track"},{title:"Rise Up",cover:"https://media.parttimechiller.com/RiseUp_PTC.png",audio:"https://media.parttimechiller.com/RiseUp_PTC.mp3",duration:"3:28",description:"Time to get up and get down",type:"track"},{title:"Dive into dark",cover:"https://media.parttimechiller.com/DiveIntoDark_PTC.png",audio:"https://media.parttimechiller.com/DiveIntoDark_PTC.mp3",duration:"2:52",description:"Sometimes you need to go deep into the dark",type:"track"},{title:"Live at Oldfields mix",cover:"https://media.parttimechiller.com/OldfieldsMix_PTC.png",audio:"https://media.parttimechiller.com/OldfieldsMix_PTC.mp3",duration:"3:00:00",description:"Midtempo vibes for Friday evening soir\xe9e",type:"mix"},{title:"Live at Tamarak Ventures",cover:"https://media.parttimechiller.com/TamarakMix_PTC.png",audio:"https://media.parttimechiller.com/TamarakMix_PTC.mp3",duration:"3:00:00",description:"Perfect early summertime evening vibes recorded at Tamarak Ventures 2025",type:"mix"}];var l=a(4250),i=a(9477);function Mixes(){let[e,t]=(0,n.useState)(null),[a,o]=(0,n.useState)("all"),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),[m,x]=(0,n.useState)("bars"),[p,f]=(0,n.useState)("Stint Ultra Expanded"),[g,v]=(0,n.useState)(!1),w=(0,n.useRef)(null),b=(0,n.useRef)(null),j=(0,n.useRef)(null),y=(0,n.useRef)(Array(32).fill(0)),[N,k]=(0,n.useState)(!1),[M,C]=(0,n.useState)(0),[S,E]=(0,n.useState)(0),[P,z]=(0,n.useState)(0),[T,L]=(0,n.useState)("rgb(115, 115, 115)"),[B,_]=(0,n.useState)("rgb(163, 163, 163)"),[D,A]=(0,n.useState)(Array(32).fill(0)),[F,I]=(0,n.useState)(!1),[R,V]=(0,n.useState)(1.5),[U,H]=(0,n.useState)(.3),[O,W]=(0,n.useState)(.5),[X,Y]=(0,n.useState)(.002),q=(0,n.useRef)(1.5),K=(0,n.useRef)(.3),G=(0,n.useRef)(.5),J=(0,n.useRef)(.002);(0,n.useEffect)(()=>{q.current=R,K.current=U,G.current=O,J.current=X},[R,U,O,X]),(0,n.useEffect)(()=>{y.current=D},[D]);let Z=(0,n.useRef)(null),Q=(0,n.useRef)(null),$=(0,n.useRef)(null),ee=s.filter(e=>"all"===a||e.type===a),et=e?ee.findIndex(t=>t.title===e.title):-1,formatTime=e=>{let t=Math.floor(e/3600),a=Math.floor(e%3600/60),r=Math.floor(e%60);return t>0?"".concat(t,":").concat(a.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0")):"".concat(a,":").concat(r.toString().padStart(2,"0"))};(0,n.useEffect)(()=>{let t=w.current;if(!t)return;let updateProgress=()=>{C(t.currentTime/t.duration*100),E(t.currentTime)},updateDuration=()=>{z(t.duration)},handleSongEnd=()=>{window.clarity&&e&&window.clarity("event","song_completed",e.title),playNext()},handleError=a=>{console.error("Audio error:",t.error),console.error("Error event:",a),alert("Error loading audio file: ".concat(null==e?void 0:e.title,"\nPlease check if the file exists and is in a supported format."))};return t.addEventListener("timeupdate",updateProgress),t.addEventListener("loadedmetadata",updateDuration),t.addEventListener("durationchange",updateDuration),t.addEventListener("ended",handleSongEnd),t.addEventListener("error",handleError),()=>{t.removeEventListener("timeupdate",updateProgress),t.removeEventListener("loadedmetadata",updateDuration),t.removeEventListener("durationchange",updateDuration),t.removeEventListener("ended",handleSongEnd),t.removeEventListener("error",handleError)}},[e]),(0,n.useEffect)(()=>{let t=w.current;if(t&&e){if(!Z.current)try{let e=new(window.AudioContext||window.webkitAudioContext),a=e.createAnalyser(),r=e.createMediaElementSource(t);a.fftSize=256,a.smoothingTimeConstant=.8,r.connect(a),a.connect(e.destination),Q.current=e,Z.current=a}catch(e){console.log("Audio context setup failed:",e)}return Q.current&&"suspended"===Q.current.state&&Q.current.resume(),()=>{$.current&&cancelAnimationFrame($.current)}}},[e]),(0,n.useEffect)(()=>{if(!Z.current)return;let e=Z.current,t=e.frequencyBinCount,a=new Uint8Array(t),r=0,animate=()=>{if(++r%2==0){let r=w.current,n=r&&!r.paused&&!r.ended;if(n){e.getByteFrequencyData(a);let r=Array(32);for(let e=0;e<32;e++){let n,s;let l=e/32,i=(e+1)/32;if(e<16)n=Math.floor(2*l*(.3*t)),s=Math.floor(2*i*(.3*t));else{let e=(l-.5)*2,a=(i-.5)*2;n=Math.floor(.3*t+Math.pow(e,1.5)*(.7*t)),s=Math.floor(.3*t+Math.pow(a,1.5)*(.7*t))}let o=0,c=0,d=Math.max(s,n+1);for(let e=n;e<d&&e<t;e++)o+=a[e],c++;r[e]=c>0?o/c:0}A(r)}}$.current=requestAnimationFrame(animate)};return animate(),()=>{$.current&&cancelAnimationFrame($.current)}},[e]),(0,n.useEffect)(()=>{if(e&&w.current){let e=w.current,t=setTimeout(async()=>{try{Q.current&&"suspended"===Q.current.state&&await Q.current.resume(),await e.play(),k(!0)}catch(e){console.log("Auto-play failed:",e),k(!1)}},100);return()=>clearTimeout(t)}},[e]),(0,n.useEffect)(()=>{let e;if(!b.current||"threejs"!==m||!u)return;let t=new l.xsS,a=new l.cPb(75,1,.1,1e3),r=new i.CP7({antialias:!0,alpha:!0}),n=b.current,s=Math.min(n.clientWidth,n.clientHeight);r.setSize(s,s),r.setClearColor(0,0),n.innerHTML="",n.appendChild(r.domElement);let o=new l.cJO(2,6),c=new Float32Array(o.attributes.position.array),parseRGB=e=>{let t=e.match(/\d+/g);return t&&t.length>=3?{r:parseInt(t[0])/255,g:parseInt(t[1])/255,b:parseInt(t[2])/255}:{r:0,g:1,b:1}},d=parseRGB(T),h=parseRGB(B),x=new Float32Array(3*o.attributes.position.count);for(let e=0;e<x.length;e+=3)x[e]=d.r,x[e+1]=d.g,x[e+2]=d.b;o.setAttribute("color",new l.TlE(x,3));let p=new l.vBJ({vertexColors:!0,wireframe:!0,transparent:!0,opacity:.9}),f=new l.Kj0(o,p);t.add(f),a.position.z=6,a.lookAt(0,0,0),j.current={scene:t,camera:a,renderer:r,mesh:f,originalPositions:c};let g=!1,v={x:0,y:0},w={x:0,y:0},onMouseDown=e=>{g=!0,v={x:e.clientX,y:e.clientY}},onMouseMove=e=>{if(!g)return;let t=e.clientX-v.x,a=e.clientY-v.y;w.y+=.005*t,w.x+=.005*a,w.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,w.x)),v={x:e.clientX,y:e.clientY}},onMouseUp=()=>{g=!1};r.domElement.addEventListener("mousedown",onMouseDown),window.addEventListener("mousemove",onMouseMove),window.addEventListener("mouseup",onMouseUp);let animate=()=>{e=requestAnimationFrame(animate);let n=J.current,s=G.current,l=q.current,i=K.current;f.rotation.y+=n,f.rotation.x+=.5*n,a.position.x=6*Math.sin(w.y)*Math.cos(w.x),a.position.y=6*Math.sin(w.x),a.position.z=6*Math.cos(w.y)*Math.cos(w.x),a.lookAt(0,0,0);let u=o.attributes.position,m=u.count,x=y.current,p=0;for(let e=0;e<x.length;e++)p+=x[e]||0;let g=p/x.length,v=g/255,b=.001*Date.now()*s;for(let e=0;e<m;e++){let t=c[3*e],a=c[3*e+1],r=c[3*e+2],n=t+b,s=a+b,m=r+b,x=Math.sin(2*n)*Math.cos(2*s)*.5+Math.sin(3*s)*Math.cos(3*m)*.3+Math.sin(4*m)*Math.cos(2*n)*.4+.3*Math.sin((n+s+m)*1.5),p=x*l*2,f=v*i*(.1*p),g=1+f;u.setXYZ(e,t*g,a*g,r*g);let w=o.attributes.color,j=8*Math.abs(f),y=Math.min(1,Math.max(0,j)),N=.15*Math.sin(.5*b+.01*e),k=Math.min(1,Math.max(0,y+N)),M=d.r+(h.r-d.r)*k,C=d.g+(h.g-d.g)*k,S=d.b+(h.b-d.b)*k;w.setXYZ(e,M,C,S)}u.needsUpdate=!0,o.attributes.color.needsUpdate=!0,o.computeVertexNormals(),r.render(t,a)};return animate(),()=>{cancelAnimationFrame(e),r.domElement.removeEventListener("mousedown",onMouseDown),window.removeEventListener("mousemove",onMouseMove),window.removeEventListener("mouseup",onMouseUp),r.dispose(),o.dispose(),p.dispose(),n.contains(r.domElement)&&n.removeChild(r.domElement),j.current=null}},[m,u,T,B]);let togglePlay=async()=>{let t=w.current;if(t){if(N)t.pause(),k(!1),window.clarity&&e&&window.clarity("event","song_paused",e.title);else try{Q.current&&"suspended"===Q.current.state&&await Q.current.resume(),await t.play(),k(!0),window.clarity&&e&&window.clarity("event","song_played",e.title)}catch(e){console.log("Play failed:",e)}}},playNext=()=>{et<ee.length-1&&handleMixSelect(ee[et+1],!0)},playPrevious=()=>{let e=w.current;e&&e.currentTime>3?e.currentTime=0:et>0&&handleMixSelect(ee[et-1],!0)},extractColors=e=>{let t=new Image;t.crossOrigin="Anonymous",t.src=e,t.onload=()=>{try{let e=document.createElement("canvas"),a=e.getContext("2d");if(!a)return;e.width=t.width,e.height=t.height,a.drawImage(t,0,0);let r=a.getImageData(0,0,e.width,e.height),n=r.data,s=0,l=0,i=0,o=0,c=0,d=0,u=0,h=0;for(let e=0;e<n.length;e+=4){let t=(n[e]+n[e+1]+n[e+2])/3;t>40&&t<180&&(s+=n[e],l+=n[e+1],i+=n[e+2],o++),t>100&&t<220&&(c+=n[e],d+=n[e+1],u+=n[e+2],h++)}if(o>0){let e=Math.floor(s/o),t=Math.floor(l/o),a=Math.floor(i/o);L("rgb(".concat(e,", ").concat(t,", ").concat(a,")"))}if(h>0){let e=Math.floor(c/h),t=Math.floor(d/h),a=Math.floor(u/h);_("rgb(".concat(e,", ").concat(t,", ").concat(a,")"))}}catch(e){console.log("Color extraction failed:",e)}}},handleMixSelect=function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t(e),C(0),E(0),z(0),extractColors(e.cover),a||(d(!1),h(!1)),window.clarity&&window.clarity("event","song_selected",e.title)},handleProgressClick=t=>{let a=w.current;if(!a)return;let r=t.currentTarget,n=r.getBoundingClientRect(),s=t.clientX-n.left,l=n.width,i=s/l*100,o=i/100*a.duration;a.currentTime=o,C(i),E(o),window.clarity&&e&&window.clarity("event","progress_scrubbed",e.title)};return(0,n.useEffect)(()=>{let e=p.replace(/ /g,"+"),t=document.createElement("link");return t.href="https://fonts.googleapis.com/css2?family=".concat(e,":wght@400;700&display=swap"),t.rel="stylesheet",document.head.appendChild(t),()=>{document.head.removeChild(t)}},[p]),(0,n.useEffect)(()=>{let handleKeyDown=e=>{(e.metaKey||e.ctrlKey)&&"d"===e.key&&(e.preventDefault(),v(e=>!e))};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)},[]),(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white relative",style:{fontFamily:p},children:[e&&(0,r.jsx)("div",{className:"fixed inset-0 z-0 transition-opacity duration-1000",style:{backgroundImage:"url(".concat(e.cover,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,r.jsx)("div",{className:"absolute inset-0 bg-black/75 backdrop-blur-3xl"})}),(0,r.jsxs)("div",{className:"relative z-10 p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4 gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,r.jsx)("img",{src:"https://media.parttimechiller.com/logo3.png",alt:"Part Time Chiller",className:"h-10 sm:h-12"}),(0,r.jsx)("span",{className:"text-base sm:text-xl font-bold hidden sm:inline",children:"PartTimeChiller"}),g&&(0,r.jsx)("select",{value:p,onChange:e=>f(e.target.value),className:"ml-2 px-2 py-1 text-xs rounded border border-neutral-700 bg-black/50 backdrop-blur hover:border-white transition-colors cursor-pointer focus:outline-none focus:border-white",title:"Select Font (Debug Mode)",children:["Stint Ultra Expanded","Barrio","Bungee Hairline","Splash","Cal Sans","Inconsolata","Kumbh Sans","Nabla","Barriecito"].map(e=>(0,r.jsx)("option",{value:e,style:{fontFamily:e},children:e},e))})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,r.jsxs)("div",{className:"flex space-x-1 sm:space-x-2",children:[(0,r.jsx)("a",{href:"https://instagram.com/parttimechiller",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full flex items-center justify-center transition-all bg-neutral-800 hover:bg-gradient-to-br hover:from-purple-600 hover:to-pink-500 hover:scale-110",title:"Instagram",children:(0,r.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),(0,r.jsx)("a",{href:"https://youtube.com/@parttimechiller",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full flex items-center justify-center transition-all bg-neutral-800 hover:bg-red-600 hover:scale-110",title:"YouTube",children:(0,r.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),(0,r.jsx)("a",{href:"https://open.spotify.com/user/ameet3000?si=833fb8c8623241a1",target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full flex items-center justify-center transition-all bg-neutral-800 hover:bg-green-500 hover:scale-110",title:"Spotify",children:(0,r.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})})})]}),(0,r.jsx)("div",{className:"h-6 w-px bg-neutral-700 hidden sm:block"}),(0,r.jsxs)("div",{className:"flex space-x-1 sm:space-x-2",children:[(0,r.jsx)("button",{onClick:()=>o("all"),className:"px-2 sm:px-3 py-1 rounded text-xs sm:text-sm transition-colors ".concat("all"===a?"bg-white text-black":"bg-neutral-800 text-white hover:bg-neutral-700"),children:"All"}),(0,r.jsx)("button",{onClick:()=>o("mix"),className:"px-2 sm:px-3 py-1 rounded text-xs sm:text-sm transition-colors ".concat("mix"===a?"bg-white text-black":"bg-neutral-800 text-white hover:bg-neutral-700"),children:"Mixes"}),(0,r.jsx)("button",{onClick:()=>o("track"),className:"px-2 sm:px-3 py-1 rounded text-xs sm:text-sm transition-colors ".concat("track"===a?"bg-white text-black":"bg-neutral-800 text-white hover:bg-neutral-700"),children:"Tracks"})]})]})]}),(0,r.jsx)("div",{className:"space-y-2",children:ee.map((e,t)=>(0,r.jsx)("div",{onClick:()=>handleMixSelect(e),className:"bg-neutral-900 border border-neutral-800 hover:border-white transition-all duration-300 cursor-pointer rounded-lg hover:shadow-lg hover:scale-[1.01] active:scale-[0.99]",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-3",children:[(0,r.jsx)("img",{src:e.cover,alt:e.title,className:"w-12 h-12 rounded object-cover",onError:e=>{var t;let a=e.target;a.style.display="none",null===(t=a.nextElementSibling)||void 0===t||t.classList.remove("hidden")}}),(0,r.jsx)("div",{className:"w-12 h-12 rounded bg-neutral-700 flex items-center justify-center hidden",children:(0,r.jsx)("span",{className:"text-xs text-neutral-400",children:"\uD83C\uDFB5"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h2",{className:"text-md font-medium leading-tight",children:e.title}),(0,r.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded border transition-colors ".concat("mix"===e.type?"border-purple-500/40 text-purple-400/90":"border-blue-500/40 text-blue-400/90"),children:e.type})]}),(0,r.jsxs)("p",{className:"text-xs text-neutral-400",children:[e.description," â€¢ ",e.duration]})]})]})},t))}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed bottom-20 left-0 right-0 h-24 flex items-end justify-center gap-1.5 px-4 pointer-events-none",children:D.map((e,t)=>(0,r.jsx)("div",{className:"flex-1 h-full origin-bottom rounded-t-md will-change-transform",style:{transform:"scaleY(".concat(Math.max(.08,e/255),")"),background:"linear-gradient(to top, ".concat(T,", ").concat(B,")"),opacity:N?.9:.4}},t))}),(0,r.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 px-4 py-3 flex items-center space-x-4 backdrop-blur-xl transition-all duration-500",style:{background:"linear-gradient(to right, ".concat(T,"25, ").concat(B,"25)"),borderColor:"".concat(T,"30")},children:[(0,r.jsx)("button",{className:"p-0 m-0 border-none bg-transparent",onClick:()=>d(!0),"aria-label":"Open detailed player",children:(0,r.jsx)("img",{src:e.cover,alt:e.title,className:"w-12 h-12 rounded object-cover shadow-lg transition-all duration-500",style:{boxShadow:"0 0 0 2px ".concat(B,"40")},onError:e=>{let t=e.target;t.style.display="none";let a=e.currentTarget.nextElementSibling;null==a||a.classList.remove("hidden")}})}),(0,r.jsx)("div",{className:"w-12 h-12 rounded bg-neutral-700 flex items-center justify-center hidden",children:(0,r.jsx)("span",{className:"text-xs text-neutral-400",children:"\uD83C\uDFB5"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-medium truncate overflow-hidden text-ellipsis whitespace-nowrap",children:e.title}),(0,r.jsx)("div",{className:"w-full h-1.5 bg-black/30 rounded-full overflow-hidden mt-1 cursor-pointer relative backdrop-blur",onClick:handleProgressClick,children:(0,r.jsx)("div",{className:"h-full transition-all duration-300 shadow-lg",style:{width:"".concat(M,"%"),background:"linear-gradient(to right, ".concat(T,", ").concat(B,")")}})}),(0,r.jsx)("div",{className:"flex justify-between items-center mt-1",children:(0,r.jsxs)("span",{className:"text-xs text-neutral-300",children:[formatTime(S)," / ",formatTime(P)]})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:playPrevious,className:"w-10 h-10 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(T,", ").concat(B,")")},"aria-label":"Previous track",disabled:0===et,children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),(0,r.jsx)("button",{onClick:togglePlay,className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(T,", ").concat(B,")")},children:N?(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,r.jsx)("button",{onClick:playNext,className:"w-10 h-10 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(T,", ").concat(B,")")},"aria-label":"Next track",disabled:et===ee.length-1,children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})})]}),(0,r.jsx)("audio",{ref:w,src:e.audio,preload:"metadata",crossOrigin:"anonymous"})]})]}),e&&c&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col",children:[(0,r.jsx)("div",{className:"absolute inset-0 transition-opacity duration-1000",style:{backgroundImage:"url(".concat(e.cover,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,r.jsx)("div",{className:"absolute inset-0 bg-black/85 backdrop-blur-3xl"})}),(0,r.jsxs)("div",{className:"relative z-10 flex items-center justify-between px-4 py-3 border-b border-neutral-800/50",children:[(0,r.jsx)("button",{onClick:()=>d(!1),className:"w-9 h-9 rounded-full flex items-center justify-center bg-neutral-800 hover:bg-neutral-700 text-white transition-colors","aria-label":"Close detailed player",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>h(e=>!e),className:"px-3 py-1 rounded bg-neutral-800 hover:bg-neutral-700 text-white text-sm transition-colors",children:u?"Show Art":"Show Visualizer"}),u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>x(e=>"bars"===e?"radial":"radial"===e?"threejs":"bars"),className:"px-3 py-1 rounded bg-neutral-800 hover:bg-neutral-700 text-white text-sm transition-colors",title:"Current: ".concat("bars"===m?"Bars":"radial"===m?"Radial":"3D Waveform"),children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),"threejs"===m&&(0,r.jsx)("button",{onClick:()=>I(!F),className:"px-3 py-1 rounded bg-neutral-800 hover:bg-neutral-700 text-white text-sm transition-colors",title:F?"Hide Controls":"Show Controls",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})})]})]}),(0,r.jsx)("div",{className:"w-9"})]}),F&&"threejs"===m&&u&&(0,r.jsxs)("div",{className:"absolute top-20 right-4 w-72 p-4 rounded-lg backdrop-blur-xl bg-black/60 border border-white/10 z-20 space-y-3",children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-white/90 mb-3 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Visualizer Controls"]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,r.jsx)("span",{children:"Audio Intensity"}),(0,r.jsx)("span",{className:"font-mono",children:R.toFixed(1)})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"5",step:"0.1",value:R,onChange:e=>V(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:T}})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,r.jsx)("span",{children:"Surface Detail"}),(0,r.jsx)("span",{className:"font-mono",children:U.toFixed(2)})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"1",step:"0.05",value:U,onChange:e=>H(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:T}})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,r.jsx)("span",{children:"Animation Speed"}),(0,r.jsx)("span",{className:"font-mono",children:O.toFixed(1)})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"2",step:"0.1",value:O,onChange:e=>W(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:T}})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex justify-between text-xs text-white/70 mb-1",children:[(0,r.jsx)("span",{children:"Rotation Speed"}),(0,r.jsx)("span",{className:"font-mono",children:(1e3*X).toFixed(1)})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"0.01",step:"0.0005",value:X,onChange:e=>Y(parseFloat(e.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-white/10",style:{accentColor:T}})]}),(0,r.jsx)("button",{onClick:()=>{V(1.5),H(.3),W(.5),Y(.002)},className:"w-full mt-2 px-3 py-2 rounded bg-white/10 text-white/70 hover:bg-white/20 transition-all duration-300 text-xs font-medium",children:"Reset to Defaults"})]}),(0,r.jsx)("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center p-4 gap-6",children:u?"bars"===m?(0,r.jsx)("div",{className:"w-full max-w-3xl h-64 sm:h-80 md:h-96 flex items-end justify-center gap-1.5 px-4",children:D.map((e,t)=>(0,r.jsx)("div",{className:"flex-1 h-full origin-bottom rounded-t-md",style:{transform:"scaleY(".concat(Math.max(.08,e/255),")"),background:"linear-gradient(to top, ".concat(T,", ").concat(B,")"),opacity:N?.95:.5}},t))}):"radial"===m?(0,r.jsx)("div",{className:"w-full max-w-md aspect-square flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 400 400",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"radialGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:T}),(0,r.jsx)("stop",{offset:"100%",stopColor:B})]})}),D.map((e,t)=>{let a=D.length,n=(t+.5)/a*360,s=n*Math.PI/180,l=.001*Date.now()*O,i=e/255*R*(.5*Math.sin(3*s+2*l%(2*Math.PI))+.5)*.8,o=(.1*Math.sin(3*s+.5*l)+.08*Math.sin(4*s+.7*l))*U*.5,c=60+(.15+(i+o))*140;return(0,r.jsx)("line",{x1:200+60*Math.cos(s-Math.PI/2),y1:200+60*Math.sin(s-Math.PI/2),x2:200+c*Math.cos(s-Math.PI/2),y2:200+c*Math.sin(s-Math.PI/2),stroke:"url(#radialGradient)",strokeWidth:Math.max(4,2*Math.PI*60/a*.6),strokeLinecap:"round",opacity:N?.95:.5},t)}),(0,r.jsx)("circle",{cx:"200",cy:"200",r:"55",fill:"none",stroke:T,strokeWidth:"2",opacity:"0.3"})]})}):(0,r.jsx)("div",{ref:b,className:"w-full max-w-md aspect-square flex items-center justify-center cursor-grab active:cursor-grabbing",style:{touchAction:"none"}}):(0,r.jsx)("img",{src:e.cover,alt:e.title,className:"w-[80vw] max-w-md aspect-square object-cover rounded shadow-xl",style:{boxShadow:"0 0 0 3px ".concat(B,"40")}})}),(0,r.jsx)("div",{className:"relative z-10 px-4 py-6 border-t border-neutral-800/50",children:(0,r.jsxs)("div",{className:"w-full max-w-3xl mx-auto space-y-4",children:[(0,r.jsx)("div",{className:"text-center text-xl font-semibold truncate",children:e.title}),(0,r.jsx)("div",{className:"w-full h-2 bg-black/40 rounded-full overflow-hidden cursor-pointer",onClick:handleProgressClick,children:(0,r.jsx)("div",{className:"h-full",style:{width:"".concat(M,"%"),background:"linear-gradient(to right, ".concat(T,", ").concat(B,")")}})}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm text-neutral-300",children:[(0,r.jsx)("span",{children:formatTime(S)}),(0,r.jsx)("span",{children:formatTime(P)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4 pt-2",children:[(0,r.jsx)("button",{onClick:playPrevious,className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(T,", ").concat(B,")")},disabled:0===et,"aria-label":"Previous track",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),(0,r.jsx)("button",{onClick:togglePlay,className:"w-16 h-16 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(T,", ").concat(B,")")},children:N?(0,r.jsx)("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,r.jsx)("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,r.jsx)("button",{onClick:playNext,className:"w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-105 active:scale-95",style:{background:"linear-gradient(135deg, ".concat(T,", ").concat(B,")")},disabled:et===ee.length-1,"aria-label":"Next track",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})})]})]})})]})]})]})}}},function(e){e.O(0,[737,934,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);